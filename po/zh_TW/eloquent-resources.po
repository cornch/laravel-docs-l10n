msgid ""
msgstr ""
"Content-Type: text/plain; charset=UTF-8\n"
"Language: zh_TW\n"
"Language-Team: Chinese Traditional\n"
"PO-Revision-Date: 2024-06-30 08:26\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"Project-Id-Version: laravel-docs\n"
"X-Crowdin-File: /main/templates/eloquent-resources.pot\n"
"X-Crowdin-File-ID: 57\n"
"X-Crowdin-Language: zh-TW\n"
"X-Crowdin-Project: laravel-docs\n"
"X-Crowdin-Project-ID: 447952\n"

#: ./docs/8.x/eloquent-resources.md:1
#: ./docs/9.x/eloquent-resources.md:1
#: ./docs/10.x/eloquent-resources.md:1
#: ./docs/11.x/eloquent-resources.md:1
#: ./docs/master/eloquent-resources.md:1
msgctxt "H1"
msgid "Eloquent: API Resources"
msgstr "Eloquent：API 資源"

#: ./docs/8.x/eloquent-resources.md:3
#: ./docs/9.x/eloquent-resources.md:3
#: ./docs/10.x/eloquent-resources.md:3
#: ./docs/11.x/eloquent-resources.md:3
#: ./docs/master/eloquent-resources.md:3
msgctxt "P"
msgid "[Introduction](#introduction)"
msgstr "[簡介](#introduction)"

#: ./docs/8.x/eloquent-resources.md:4
#: ./docs/9.x/eloquent-resources.md:4
#: ./docs/10.x/eloquent-resources.md:4
#: ./docs/11.x/eloquent-resources.md:4
#: ./docs/master/eloquent-resources.md:4
msgctxt "P"
msgid "[Generating Resources](#generating-resources)"
msgstr "[產生 Resource](#generating-resources)"

#: ./docs/8.x/eloquent-resources.md:5
#: ./docs/9.x/eloquent-resources.md:5
#: ./docs/10.x/eloquent-resources.md:5
#: ./docs/11.x/eloquent-resources.md:5
#: ./docs/master/eloquent-resources.md:5
msgctxt "P"
msgid "[Concept Overview](#concept-overview)"
msgstr "[概念概覽](#concept-overview)"

#: ./docs/8.x/eloquent-resources.md:6
#: ./docs/9.x/eloquent-resources.md:6
#: ./docs/10.x/eloquent-resources.md:6
#: ./docs/11.x/eloquent-resources.md:6
#: ./docs/master/eloquent-resources.md:6
msgctxt "P"
msgid "[Resource Collections](#resource-collections)"
msgstr "[Resource Collection](#resource-collections)"

#: ./docs/8.x/eloquent-resources.md:7
#: ./docs/9.x/eloquent-resources.md:7
#: ./docs/10.x/eloquent-resources.md:7
#: ./docs/11.x/eloquent-resources.md:7
#: ./docs/master/eloquent-resources.md:7
msgctxt "P"
msgid "[Writing Resources](#writing-resources)"
msgstr "[撰寫 Resource](#writing-resources)"

#: ./docs/8.x/eloquent-resources.md:8
#: ./docs/9.x/eloquent-resources.md:8
#: ./docs/10.x/eloquent-resources.md:8
#: ./docs/11.x/eloquent-resources.md:8
#: ./docs/master/eloquent-resources.md:8
msgctxt "P"
msgid "[Data Wrapping](#data-wrapping)"
msgstr "[資料包裝](#data-wrapping)"

#: ./docs/8.x/eloquent-resources.md:9
#: ./docs/9.x/eloquent-resources.md:9
#: ./docs/10.x/eloquent-resources.md:9
#: ./docs/11.x/eloquent-resources.md:9
#: ./docs/master/eloquent-resources.md:9
msgctxt "P"
msgid "[Pagination](#pagination)"
msgstr "[分頁](#pagination)"

#: ./docs/8.x/eloquent-resources.md:10
#: ./docs/9.x/eloquent-resources.md:10
#: ./docs/10.x/eloquent-resources.md:10
#: ./docs/11.x/eloquent-resources.md:10
#: ./docs/master/eloquent-resources.md:10
msgctxt "P"
msgid "[Conditional Attributes](#conditional-attributes)"
msgstr "[條件式屬性](#conditional-attributes)"

#: ./docs/8.x/eloquent-resources.md:11
#: ./docs/9.x/eloquent-resources.md:11
#: ./docs/10.x/eloquent-resources.md:11
#: ./docs/11.x/eloquent-resources.md:11
#: ./docs/master/eloquent-resources.md:11
msgctxt "P"
msgid "[Conditional Relationships](#conditional-relationships)"
msgstr "[條件式關聯](#conditional-relationships)"

#: ./docs/8.x/eloquent-resources.md:12
#: ./docs/9.x/eloquent-resources.md:12
#: ./docs/10.x/eloquent-resources.md:12
#: ./docs/11.x/eloquent-resources.md:12
#: ./docs/master/eloquent-resources.md:12
msgctxt "P"
msgid "[Adding Meta Data](#adding-meta-data)"
msgstr "[新增詮釋資料](#adding-meta-data)"

#: ./docs/8.x/eloquent-resources.md:13
#: ./docs/9.x/eloquent-resources.md:13
#: ./docs/10.x/eloquent-resources.md:13
#: ./docs/11.x/eloquent-resources.md:13
#: ./docs/master/eloquent-resources.md:13
msgctxt "P"
msgid "[Resource Responses](#resource-responses)"
msgstr "[Resource Response](#resource-responses)"

#: ./docs/8.x/eloquent-resources.md:15
#: ./docs/9.x/eloquent-resources.md:15
#: ./docs/10.x/eloquent-resources.md:15
#: ./docs/11.x/eloquent-resources.md:15
#: ./docs/master/eloquent-resources.md:15
#~ msgctxt "P"
#~ msgid "<a name=\"introduction\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:16
#: ./docs/9.x/eloquent-resources.md:16
#: ./docs/10.x/eloquent-resources.md:16
#: ./docs/11.x/eloquent-resources.md:16
#: ./docs/master/eloquent-resources.md:16
msgctxt "H2"
msgid "Introduction"
msgstr "簡介"

#: ./docs/8.x/eloquent-resources.md:18
#: ./docs/9.x/eloquent-resources.md:18
#: ./docs/10.x/eloquent-resources.md:18
#: ./docs/11.x/eloquent-resources.md:18
#: ./docs/master/eloquent-resources.md:18
msgctxt "P"
msgid "When building an API, you may need a transformation layer that sits between your Eloquent models and the JSON responses that are actually returned to your application's users. For example, you may wish to display certain attributes for a subset of users and not others, or you may wish to always include certain relationships in the JSON representation of your models. Eloquent's resource classes allow you to expressively and easily transform your models and model collections into JSON."
msgstr "在製作 API 的時候，我們可能會需要一個轉換層來將 Eloquent Model 轉換為實際要回傳給使用者的 JSON 回應。舉例來說，有一些屬性我們只希望特定使用者能看到，其他使用者不能看；或者，我們可能會希望在 Model 的 JSON 呈現上總是包含特定的關聯。Eloquent 的 Resource 類別能讓我們輕鬆自如地將 Model 與 Model Collection 轉換為 JSON。"

#: ./docs/8.x/eloquent-resources.md:20
#: ./docs/9.x/eloquent-resources.md:20
#: ./docs/10.x/eloquent-resources.md:20
#: ./docs/11.x/eloquent-resources.md:20
#: ./docs/master/eloquent-resources.md:20
msgctxt "P"
msgid "Of course, you may always convert Eloquent models or collections to JSON using their `toJson` methods; however, Eloquent resources provide more granular and robust control over the JSON serialization of your models and their relationships."
msgstr "當然，我們還是可以用 Eloquent Model 上的 `toJson` 方法來將其轉為 JSON。不過，Eloquent Resource 能讓我們對於 Model 與其關聯要怎麼被 JSON 序列化有更大的控制。"

#: ./docs/8.x/eloquent-resources.md:22
#: ./docs/9.x/eloquent-resources.md:22
#: ./docs/10.x/eloquent-resources.md:22
#: ./docs/11.x/eloquent-resources.md:22
#: ./docs/master/eloquent-resources.md:22
#~ msgctxt "P"
#~ msgid "<a name=\"generating-resources\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:23
#: ./docs/9.x/eloquent-resources.md:23
#: ./docs/10.x/eloquent-resources.md:23
#: ./docs/11.x/eloquent-resources.md:23
#: ./docs/master/eloquent-resources.md:23
msgctxt "H2"
msgid "Generating Resources"
msgstr "產生 Resource"

#: ./docs/8.x/eloquent-resources.md:25
#: ./docs/9.x/eloquent-resources.md:25
#: ./docs/10.x/eloquent-resources.md:25
#: ./docs/11.x/eloquent-resources.md:25
#: ./docs/master/eloquent-resources.md:25
msgctxt "P"
msgid "To generate a resource class, you may use the `make:resource` Artisan command. By default, resources will be placed in the `app/Http/Resources` directory of your application. Resources extend the `Illuminate\\Http\\Resources\\Json\\JsonResource` class:"
msgstr "若要產生 Resource 類別，可以使用 `make:resource` Artisan 指令。預設情況下，Resource 會被放在專案中的 `app/Http/Resources` 目錄。Resource 繼承自 `Illuminate\\Http\\Resources\\Json\\JsonResource` 類別："

#: ./docs/8.x/eloquent-resources.md:27
#: ./docs/9.x/eloquent-resources.md:27
#: ./docs/10.x/eloquent-resources.md:27
#: ./docs/11.x/eloquent-resources.md:27
#: ./docs/master/eloquent-resources.md:27
msgctxt "CODE"
msgid "php artisan make:resource UserResource"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:29
#: ./docs/9.x/eloquent-resources.md:31
#: ./docs/10.x/eloquent-resources.md:31
#: ./docs/11.x/eloquent-resources.md:31
#: ./docs/master/eloquent-resources.md:31
#~ msgctxt "P"
#~ msgid "<a name=\"generating-resource-collections\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:30
#: ./docs/8.x/eloquent-resources.md:85
#: ./docs/8.x/eloquent-resources.md:259
#: ./docs/9.x/eloquent-resources.md:32
#: ./docs/9.x/eloquent-resources.md:90
#: ./docs/9.x/eloquent-resources.md:268
#: ./docs/10.x/eloquent-resources.md:32
#: ./docs/10.x/eloquent-resources.md:90
#: ./docs/10.x/eloquent-resources.md:268
#: ./docs/11.x/eloquent-resources.md:32
#: ./docs/11.x/eloquent-resources.md:90
#: ./docs/11.x/eloquent-resources.md:268
#: ./docs/master/eloquent-resources.md:32
#: ./docs/master/eloquent-resources.md:90
#: ./docs/master/eloquent-resources.md:268
msgctxt "H4"
msgid "Resource Collections"
msgstr "Resource Collection"

#: ./docs/8.x/eloquent-resources.md:32
#: ./docs/9.x/eloquent-resources.md:34
#: ./docs/10.x/eloquent-resources.md:34
#: ./docs/11.x/eloquent-resources.md:34
#: ./docs/master/eloquent-resources.md:34
msgctxt "P"
msgid "In addition to generating resources that transform individual models, you may generate resources that are responsible for transforming collections of models. This allows your JSON responses to include links and other meta information that is relevant to an entire collection of a given resource."
msgstr "除了產生能轉換個別 Model 的 Resource 外，也可以產生一個 Resource 來轉換一組包含 Model 的 Collection。這樣以來，就可以在我們的 JSON 回應中包含連結或其他詮釋資訊等與該資源中整個 Collection 相關的資訊。"

#: ./docs/8.x/eloquent-resources.md:34
#: ./docs/9.x/eloquent-resources.md:36
#: ./docs/10.x/eloquent-resources.md:36
#: ./docs/11.x/eloquent-resources.md:36
#: ./docs/master/eloquent-resources.md:36
msgctxt "P"
msgid "To create a resource collection, you should use the `--collection` flag when creating the resource. Or, including the word `Collection` in the resource name will indicate to Laravel that it should create a collection resource. Collection resources extend the `Illuminate\\Http\\Resources\\Json\\ResourceCollection` class:"
msgstr "要建立 Resource Collection，應在建立資源時使用 `--collection` 旗標。或者，也可以在資源名稱後方加上 `Collection`，以讓 Laravel 知道我們要建立的是 Resource Collection。"

#: ./docs/8.x/eloquent-resources.md:36
#: ./docs/9.x/eloquent-resources.md:38
#: ./docs/10.x/eloquent-resources.md:38
#: ./docs/11.x/eloquent-resources.md:38
#: ./docs/master/eloquent-resources.md:38
msgctxt "CODE"
msgid ""
"php artisan make:resource User --collection\n"
"\n"
"php artisan make:resource UserCollection"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:40
#: ./docs/9.x/eloquent-resources.md:44
#: ./docs/10.x/eloquent-resources.md:44
#: ./docs/11.x/eloquent-resources.md:44
#: ./docs/master/eloquent-resources.md:44
#~ msgctxt "P"
#~ msgid "<a name=\"concept-overview\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:41
#: ./docs/9.x/eloquent-resources.md:45
#: ./docs/10.x/eloquent-resources.md:45
#: ./docs/11.x/eloquent-resources.md:45
#: ./docs/master/eloquent-resources.md:45
msgctxt "H2"
msgid "Concept Overview"
msgstr "概念概覽"

#: ./docs/8.x/eloquent-resources.md:43
#: ./docs/9.x/eloquent-resources.md:48
#: ./docs/10.x/eloquent-resources.md:48
#: ./docs/11.x/eloquent-resources.md:48
#: ./docs/master/eloquent-resources.md:48
msgctxt "P"
msgid "This is a high-level overview of resources and resource collections. You are highly encouraged to read the other sections of this documentation to gain a deeper understanding of the customization and power offered to you by resources."
msgstr "這裡提供的是對於 Resource 與 Resource Collection 的高階概覽。我們強烈建議你閱讀本文中的其他段落以深入瞭解 Resource 提供的客製化功能。"

#: ./docs/8.x/eloquent-resources.md:45
#: ./docs/9.x/eloquent-resources.md:50
#: ./docs/10.x/eloquent-resources.md:50
#: ./docs/11.x/eloquent-resources.md:50
#: ./docs/master/eloquent-resources.md:50
msgctxt "P"
msgid "Before diving into all of the options available to you when writing resources, let's first take a high-level look at how resources are used within Laravel. A resource class represents a single model that needs to be transformed into a JSON structure. For example, here is a simple `UserResource` resource class:"
msgstr "在深入瞭解撰寫 Resource 時可用的所有方法前，我們先來用一種高階的方式看看 Laravel 中可以怎麼使用 Resource。Resource 類別代表的是需要被轉換為 JSON 結構的單一 Model。舉例來說，下列是一個簡單的 `UserResource` Resource 類別："

#: ./docs/8.x/eloquent-resources.md:47
#: ./docs/8.x/eloquent-resources.md:196
#: ./docs/9.x/eloquent-resources.md:52
#: ./docs/9.x/eloquent-resources.md:204
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * Transform the resource into an array.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @return array\n"
"     */\n"
"    public function toArray($request)\n"
"    {\n"
"        return [\n"
"            'id' => $this->id,\n"
"            'name' => $this->name,\n"
"            'email' => $this->email,\n"
"            'created_at' => $this->created_at,\n"
"            'updated_at' => $this->updated_at,\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:52
#: ./docs/10.x/eloquent-resources.md:204
#: ./docs/11.x/eloquent-resources.md:52
#: ./docs/11.x/eloquent-resources.md:204
#: ./docs/master/eloquent-resources.md:52
#: ./docs/master/eloquent-resources.md:204
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * Transform the resource into an array.\n"
"     *\n"
"     * @return array<string, mixed>\n"
"     */\n"
"    public function toArray(Request $request): array\n"
"    {\n"
"        return [\n"
"            'id' => $this->id,\n"
"            'name' => $this->name,\n"
"            'email' => $this->email,\n"
"            'created_at' => $this->created_at,\n"
"            'updated_at' => $this->updated_at,\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:73
#: ./docs/9.x/eloquent-resources.md:78
#: ./docs/10.x/eloquent-resources.md:78
#: ./docs/11.x/eloquent-resources.md:78
#: ./docs/master/eloquent-resources.md:78
msgctxt "P"
msgid "Every resource class defines a `toArray` method which returns the array of attributes that should be converted to JSON when the resource is returned as a response from a route or controller method."
msgstr "每個 Resource 類別都有一個 `toArray` 方法，`toArray` 方法回傳一組包含屬性的陣列，當資源從路由或 Controller 方法中作為回應回傳時，這些屬性會被轉為 JSON。"

#: ./docs/8.x/eloquent-resources.md:75
#: ./docs/9.x/eloquent-resources.md:80
#: ./docs/10.x/eloquent-resources.md:80
#: ./docs/11.x/eloquent-resources.md:80
#: ./docs/master/eloquent-resources.md:80
msgctxt "P"
msgid "Note that we can access model properties directly from the `$this` variable. This is because a resource class will automatically proxy property and method access down to the underlying model for convenient access. Once the resource is defined, it may be returned from a route or controller. The resource accepts the underlying model instance via its constructor:"
msgstr "可以注意到，我們直接使用 `$this` 變數來存取 Model 的屬性。這是因為，在存取屬性與方法時，Resource 類別會自動幫我們將這些存取代理 (Proxy) 到底層的 Model，以讓我們能方便地存取。定義好 Resource 之後，就可以從路由或 Controller 中回傳這個 Resource。該 Resource 的建構函式中接受底層的 Model 實體："

#: ./docs/8.x/eloquent-resources.md:77
#: ./docs/8.x/eloquent-resources.md:224
#: ./docs/8.x/eloquent-resources.md:701
#: ./docs/9.x/eloquent-resources.md:82
#: ./docs/9.x/eloquent-resources.md:232
#: ./docs/9.x/eloquent-resources.md:753
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserResource;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/user/{id}', function ($id) {\n"
"    return new UserResource(User::findOrFail($id));\n"
"});"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:82
#: ./docs/10.x/eloquent-resources.md:232
#: ./docs/10.x/eloquent-resources.md:750
#: ./docs/11.x/eloquent-resources.md:82
#: ./docs/11.x/eloquent-resources.md:232
#: ./docs/11.x/eloquent-resources.md:750
#: ./docs/master/eloquent-resources.md:82
#: ./docs/master/eloquent-resources.md:232
#: ./docs/master/eloquent-resources.md:750
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserResource;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/user/{id}', function (string $id) {\n"
"    return new UserResource(User::findOrFail($id));\n"
"});"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:84
#: ./docs/9.x/eloquent-resources.md:89
#: ./docs/10.x/eloquent-resources.md:89
#: ./docs/11.x/eloquent-resources.md:89
#: ./docs/master/eloquent-resources.md:89
#~ msgctxt "P"
#~ msgid "<a name=\"resource-collections\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:87
#: ./docs/9.x/eloquent-resources.md:92
#: ./docs/10.x/eloquent-resources.md:92
#: ./docs/11.x/eloquent-resources.md:92
#: ./docs/master/eloquent-resources.md:92
msgctxt "P"
msgid "If you are returning a collection of resources or a paginated response, you should use the `collection` method provided by your resource class when creating the resource instance in your route or controller:"
msgstr "在路由或 Controller 中回傳一組包含 Resource 的 Collection、或是有分頁的回應時，建立 Resource 的時候應使用 Resource 類別提供的 `collection` 方法："

#: ./docs/8.x/eloquent-resources.md:89
#: ./docs/8.x/eloquent-resources.md:263
#: ./docs/9.x/eloquent-resources.md:94
#: ./docs/9.x/eloquent-resources.md:272
#: ./docs/10.x/eloquent-resources.md:94
#: ./docs/10.x/eloquent-resources.md:272
#: ./docs/11.x/eloquent-resources.md:94
#: ./docs/11.x/eloquent-resources.md:272
#: ./docs/master/eloquent-resources.md:94
#: ./docs/master/eloquent-resources.md:272
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserResource;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/users', function () {\n"
"    return UserResource::collection(User::all());\n"
"});"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:96
#: ./docs/9.x/eloquent-resources.md:101
#: ./docs/10.x/eloquent-resources.md:101
#: ./docs/11.x/eloquent-resources.md:101
#: ./docs/master/eloquent-resources.md:101
msgctxt "P"
msgid "Note that this does not allow any addition of custom meta data that may need to be returned with your collection. If you would like to customize the resource collection response, you may create a dedicated resource to represent the collection:"
msgstr "請注意，在回傳 Collection 的同時，這麼做將無法附上額外的詮釋資料。若想自訂 Resource Collection 的回應，可以建立一個專門的 Resource 來代表該 Collection："

#: ./docs/8.x/eloquent-resources.md:98
#: ./docs/9.x/eloquent-resources.md:103
#: ./docs/10.x/eloquent-resources.md:103
#: ./docs/11.x/eloquent-resources.md:103
#: ./docs/master/eloquent-resources.md:103
msgctxt "CODE"
msgid "php artisan make:resource UserCollection"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:100
#: ./docs/9.x/eloquent-resources.md:107
#: ./docs/10.x/eloquent-resources.md:107
#: ./docs/11.x/eloquent-resources.md:107
#: ./docs/master/eloquent-resources.md:107
msgctxt "P"
msgid "Once the resource collection class has been generated, you may easily define any meta data that should be included with the response:"
msgstr "產生好 Resource Collection 後，就可以輕鬆地定義要被包含在回應中的詮釋資料："

#: ./docs/8.x/eloquent-resources.md:102
#: ./docs/8.x/eloquent-resources.md:272
#: ./docs/9.x/eloquent-resources.md:109
#: ./docs/9.x/eloquent-resources.md:281
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class UserCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @return array\n"
"     */\n"
"    public function toArray($request)\n"
"    {\n"
"        return [\n"
"            'data' => $this->collection,\n"
"            'links' => [\n"
"                'self' => 'link-value',\n"
"            ],\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:109
#: ./docs/11.x/eloquent-resources.md:109
#: ./docs/master/eloquent-resources.md:109
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class UserCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @return array<int|string, mixed>\n"
"     */\n"
"    public function toArray(Request $request): array\n"
"    {\n"
"        return [\n"
"            'data' => $this->collection,\n"
"            'links' => [\n"
"                'self' => 'link-value',\n"
"            ],\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:127
#: ./docs/9.x/eloquent-resources.md:134
#: ./docs/10.x/eloquent-resources.md:134
#: ./docs/11.x/eloquent-resources.md:134
#: ./docs/master/eloquent-resources.md:134
msgctxt "P"
msgid "After defining your resource collection, it may be returned from a route or controller:"
msgstr "定義好 Resource Collection 後，就可以在路由或 Controller 內回傳這個 Resource Collection："

#: ./docs/8.x/eloquent-resources.md:129
#: ./docs/8.x/eloquent-resources.md:299
#: ./docs/9.x/eloquent-resources.md:136
#: ./docs/9.x/eloquent-resources.md:308
#: ./docs/10.x/eloquent-resources.md:136
#: ./docs/10.x/eloquent-resources.md:308
#: ./docs/11.x/eloquent-resources.md:136
#: ./docs/11.x/eloquent-resources.md:308
#: ./docs/master/eloquent-resources.md:136
#: ./docs/master/eloquent-resources.md:308
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserCollection;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/users', function () {\n"
"    return new UserCollection(User::all());\n"
"});"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:136
#: ./docs/9.x/eloquent-resources.md:143
#: ./docs/10.x/eloquent-resources.md:143
#: ./docs/11.x/eloquent-resources.md:143
#: ./docs/master/eloquent-resources.md:143
#~ msgctxt "P"
#~ msgid "<a name=\"preserving-collection-keys\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:137
#: ./docs/9.x/eloquent-resources.md:144
#: ./docs/10.x/eloquent-resources.md:144
#: ./docs/11.x/eloquent-resources.md:144
#: ./docs/master/eloquent-resources.md:144
msgctxt "H4"
msgid "Preserving Collection Keys"
msgstr "保留 Collection 的索引鍵"

#: ./docs/8.x/eloquent-resources.md:139
#: ./docs/9.x/eloquent-resources.md:146
#: ./docs/10.x/eloquent-resources.md:146
#: ./docs/11.x/eloquent-resources.md:146
#: ./docs/master/eloquent-resources.md:146
msgctxt "P"
msgid "When returning a resource collection from a route, Laravel resets the collection's keys so that they are in numerical order. However, you may add a `preserveKeys` property to your resource class indicating whether a collection's original keys should be preserved:"
msgstr "從路由內回傳 Resource Collection 的時候，Laravel 會重設該 Collection 的索引鍵，讓索引鍵按找數字順序排列。不過，可以在 Resource 類別中加上 `preserveKeys` 屬性來讓 Collection 保留其原始的索引鍵："

#: ./docs/8.x/eloquent-resources.md:141
#: ./docs/9.x/eloquent-resources.md:148
#: ./docs/10.x/eloquent-resources.md:148
#: ./docs/11.x/eloquent-resources.md:148
#: ./docs/master/eloquent-resources.md:148
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * Indicates if the resource's collection keys should be preserved.\n"
"     *\n"
"     * @var bool\n"
"     */\n"
"    public $preserveKeys = true;\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:157
#: ./docs/9.x/eloquent-resources.md:164
#: ./docs/10.x/eloquent-resources.md:164
#: ./docs/11.x/eloquent-resources.md:164
#: ./docs/master/eloquent-resources.md:164
msgctxt "P"
msgid "When the `preserveKeys` property is set to `true`, collection keys will be preserved when the collection is returned from a route or controller:"
msgstr "`preservedKeys` 屬性設為 `true` 的時，當我們從路由或 Controller 內回傳這個 Collection 的時候，就會保留其中的索引鍵："

#: ./docs/8.x/eloquent-resources.md:159
#: ./docs/9.x/eloquent-resources.md:166
#: ./docs/10.x/eloquent-resources.md:166
#: ./docs/11.x/eloquent-resources.md:166
#: ./docs/master/eloquent-resources.md:166
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserResource;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/users', function () {\n"
"    return UserResource::collection(User::all()->keyBy->id);\n"
"});"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:166
#: ./docs/9.x/eloquent-resources.md:173
#: ./docs/10.x/eloquent-resources.md:173
#: ./docs/11.x/eloquent-resources.md:173
#: ./docs/master/eloquent-resources.md:173
#~ msgctxt "P"
#~ msgid "<a name=\"customizing-the-underlying-resource-class\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:167
#: ./docs/9.x/eloquent-resources.md:174
msgctxt "H4"
msgid "Customizing The Underlying Resource Class"
msgstr "自訂底層的 Resource 類別"

#: ./docs/8.x/eloquent-resources.md:169
#: ./docs/9.x/eloquent-resources.md:176
#: ./docs/10.x/eloquent-resources.md:176
#: ./docs/11.x/eloquent-resources.md:176
#: ./docs/master/eloquent-resources.md:176
msgctxt "P"
msgid "Typically, the `$this->collection` property of a resource collection is automatically populated with the result of mapping each item of the collection to its singular resource class. The singular resource class is assumed to be the collection's class name without the trailing `Collection` portion of the class name. In addition, depending on your personal preference, the singular resource class may or may not be suffixed with `Resource`."
msgstr "一般來說，Laravel 會將 Collection 內的各個結果映射到其單數 (Singular) 的 Resource 類別上，然後再用來填充 Resource Collection 的 `$this->collection`。Laravel 會使用 Collection 的類別名稱去掉 `Collection` 來推測單數 Resource 的名稱。此外，根據使用者的個人偏好，單數 Resource 有可能會以 `Resource` 結尾，也有可能不會。"

#: ./docs/8.x/eloquent-resources.md:171
#: ./docs/9.x/eloquent-resources.md:178
#: ./docs/10.x/eloquent-resources.md:178
#: ./docs/11.x/eloquent-resources.md:178
#: ./docs/master/eloquent-resources.md:178
msgctxt "P"
msgid "For example, `UserCollection` will attempt to map the given user instances into the `UserResource` resource. To customize this behavior, you may override the `$collects` property of your resource collection:"
msgstr "舉例來說，`UserCollection` 會將給定的 User 實體映射到 `UserResource` 資源上。若要自訂此行為，可以複寫 Resource Collection 的 `$collects` 屬性："

#: ./docs/8.x/eloquent-resources.md:173
#: ./docs/9.x/eloquent-resources.md:180
#: ./docs/10.x/eloquent-resources.md:180
#: ./docs/11.x/eloquent-resources.md:180
#: ./docs/master/eloquent-resources.md:180
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class UserCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * The resource that this resource collects.\n"
"     *\n"
"     * @var string\n"
"     */\n"
"    public $collects = Member::class;\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:174
#: ./docs/11.x/eloquent-resources.md:174
#: ./docs/master/eloquent-resources.md:174
msgctxt "H4"
msgid "Customizing the Underlying Resource Class"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:189
#: ./docs/9.x/eloquent-resources.md:196
#: ./docs/10.x/eloquent-resources.md:196
#: ./docs/11.x/eloquent-resources.md:196
#: ./docs/master/eloquent-resources.md:196
#~ msgctxt "P"
#~ msgid "<a name=\"writing-resources\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:190
#: ./docs/9.x/eloquent-resources.md:197
#: ./docs/10.x/eloquent-resources.md:197
#: ./docs/11.x/eloquent-resources.md:197
#: ./docs/master/eloquent-resources.md:197
msgctxt "H2"
msgid "Writing Resources"
msgstr "撰寫 Resource"

#: ./docs/8.x/eloquent-resources.md:192
#: ./docs/9.x/eloquent-resources.md:200
#: ./docs/10.x/eloquent-resources.md:200
#: ./docs/11.x/eloquent-resources.md:200
#: ./docs/master/eloquent-resources.md:200
msgctxt "P"
msgid "If you have not read the [concept overview](#concept-overview), you are highly encouraged to do so before proceeding with this documentation."
msgstr "若你還未閱讀《[概念概覽](#concept-overview)》，我們強烈建議你在繼續之前先閱讀該段落。"

#: ./docs/8.x/eloquent-resources.md:194
#: ./docs/9.x/eloquent-resources.md:202
msgctxt "P"
msgid "In essence, resources are simple. They only need to transform a given model into an array. So, each resource contains a `toArray` method which translates your model's attributes into an API friendly array that can be returned from your application's routes or controllers:"
msgstr "從本質上來說，Resource 很簡單。Resource 只負責把給定的 Model 轉換為陣列。因此，每個 Resource 都包含了一個 `toArray` 方法，可用來將 Model 的屬性轉換為對適合用在 API 的陣列，並讓你能在路由或 Controller 內回傳這個陣列："

#: ./docs/10.x/eloquent-resources.md:202
#: ./docs/11.x/eloquent-resources.md:202
#: ./docs/master/eloquent-resources.md:202
msgctxt "P"
msgid "Resources only need to transform a given model into an array. So, each resource contains a `toArray` method which translates your model's attributes into an API friendly array that can be returned from your application's routes or controllers:"
msgstr "Resource 只負責把給定的 Model 轉換為陣列。因此，每個 Resource 都包含了一個 `toArray` 方法，可用來將 Model 的屬性轉換為對適合用在 API 的陣列，並讓你能在路由或 Controller 內回傳這個陣列："

#: ./docs/8.x/eloquent-resources.md:222
#: ./docs/9.x/eloquent-resources.md:230
#: ./docs/10.x/eloquent-resources.md:230
#: ./docs/11.x/eloquent-resources.md:230
#: ./docs/master/eloquent-resources.md:230
msgctxt "P"
msgid "Once a resource has been defined, it may be returned directly from a route or controller:"
msgstr "定義好 Resource 後，我們就可以直接在路由或 Controller 內將其回傳："

#: ./docs/8.x/eloquent-resources.md:231
#: ./docs/9.x/eloquent-resources.md:239
#: ./docs/10.x/eloquent-resources.md:239
#: ./docs/11.x/eloquent-resources.md:239
#: ./docs/master/eloquent-resources.md:239
#~ msgctxt "P"
#~ msgid "<a name=\"relationships\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:232
#: ./docs/9.x/eloquent-resources.md:240
#: ./docs/10.x/eloquent-resources.md:240
#: ./docs/11.x/eloquent-resources.md:240
#: ./docs/master/eloquent-resources.md:240
msgctxt "H4"
msgid "Relationships"
msgstr "關聯"

#: ./docs/8.x/eloquent-resources.md:234
#: ./docs/9.x/eloquent-resources.md:242
#: ./docs/10.x/eloquent-resources.md:242
#: ./docs/11.x/eloquent-resources.md:242
#: ./docs/master/eloquent-resources.md:242
msgctxt "P"
msgid "If you would like to include related resources in your response, you may add them to the array returned by your resource's `toArray` method. In this example, we will use the `PostResource` resource's `collection` method to add the user's blog posts to the resource response:"
msgstr "若要定義想被包含在回應內的關聯資源，可直接將這些關聯加在 Resource 的 `toArray` 方法內。在這個例子中，我們會使用 `PostResource` Resource 的 `collection` 方法來講使用者的部落格貼文加到 Resource 回應內："

#: ./docs/8.x/eloquent-resources.md:236
#: ./docs/9.x/eloquent-resources.md:244
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\PostResource;\n"
"\n"
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'posts' => PostResource::collection($this->posts),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:244
#: ./docs/11.x/eloquent-resources.md:244
#: ./docs/master/eloquent-resources.md:244
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\PostResource;\n"
"use Illuminate\\Http\\Request;\n"
"\n"
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'posts' => PostResource::collection($this->posts),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:256
#: ./docs/9.x/eloquent-resources.md:265
#: ./docs/10.x/eloquent-resources.md:265
#: ./docs/11.x/eloquent-resources.md:265
#: ./docs/master/eloquent-resources.md:265
msgctxt "P"
msgid "If you would like to include relationships only when they have already been loaded, check out the documentation on [conditional relationships](#conditional-relationships)."
msgstr "若只想在關聯已載入的情況下才將這些關聯包含在回應內，請參考[條件式關聯](#conditional-relationships)。"

#: ./docs/8.x/eloquent-resources.md:258
#: ./docs/9.x/eloquent-resources.md:267
#: ./docs/10.x/eloquent-resources.md:267
#: ./docs/11.x/eloquent-resources.md:267
#: ./docs/master/eloquent-resources.md:267
#~ msgctxt "P"
#~ msgid "<a name=\"writing-resource-collections\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:261
#: ./docs/9.x/eloquent-resources.md:270
#: ./docs/10.x/eloquent-resources.md:270
#: ./docs/11.x/eloquent-resources.md:270
#: ./docs/master/eloquent-resources.md:270
msgctxt "P"
msgid "While resources transform a single model into an array, resource collections transform a collection of models into an array. However, it is not absolutely necessary to define a resource collection class for each one of your models since all resources provide a `collection` method to generate an \"ad-hoc\" resource collection on the fly:"
msgstr "Resource 會將單一 Model 轉換為陣列，Resource Collection 則將一組包含 Model 的 Collection 轉換為陣列。不過，並不需要為每個 Model 都應以一個對應的 Resource Collection，因為所有的 Resource 都有提供一個 `collection` 方法，可以讓你即時產生一個特別的 Resource Collection："

#: ./docs/8.x/eloquent-resources.md:270
#: ./docs/9.x/eloquent-resources.md:279
#: ./docs/10.x/eloquent-resources.md:279
#: ./docs/11.x/eloquent-resources.md:279
#: ./docs/master/eloquent-resources.md:279
msgctxt "P"
msgid "However, if you need to customize the meta data returned with the collection, it is necessary to define your own resource collection:"
msgstr "不過，若有需要定義與 Collection 一起回傳的詮釋資料 (Meta Data)，就需要定義你自己的 Resource Collection："

#: ./docs/10.x/eloquent-resources.md:281
#: ./docs/11.x/eloquent-resources.md:281
#: ./docs/master/eloquent-resources.md:281
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class UserCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @return array<string, mixed>\n"
"     */\n"
"    public function toArray(Request $request): array\n"
"    {\n"
"        return [\n"
"            'data' => $this->collection,\n"
"            'links' => [\n"
"                'self' => 'link-value',\n"
"            ],\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:297
#: ./docs/9.x/eloquent-resources.md:306
#: ./docs/10.x/eloquent-resources.md:306
#: ./docs/11.x/eloquent-resources.md:306
#: ./docs/master/eloquent-resources.md:306
msgctxt "P"
msgid "Like singular resources, resource collections may be returned directly from routes or controllers:"
msgstr "與單數 Resource 類似，Resource Collection 也可以直接在路由或 Controller 內回傳："

#: ./docs/8.x/eloquent-resources.md:306
#: ./docs/9.x/eloquent-resources.md:315
#: ./docs/10.x/eloquent-resources.md:315
#: ./docs/11.x/eloquent-resources.md:315
#: ./docs/master/eloquent-resources.md:315
#~ msgctxt "P"
#~ msgid "<a name=\"data-wrapping\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:307
#: ./docs/9.x/eloquent-resources.md:316
#: ./docs/10.x/eloquent-resources.md:316
#: ./docs/11.x/eloquent-resources.md:316
#: ./docs/master/eloquent-resources.md:316
msgctxt "H3"
msgid "Data Wrapping"
msgstr "資料包裝"

#: ./docs/8.x/eloquent-resources.md:309
#: ./docs/9.x/eloquent-resources.md:318
#: ./docs/10.x/eloquent-resources.md:318
#: ./docs/11.x/eloquent-resources.md:318
#: ./docs/master/eloquent-resources.md:318
msgctxt "P"
msgid "By default, your outermost resource is wrapped in a `data` key when the resource response is converted to JSON. So, for example, a typical resource collection response looks like the following:"
msgstr "預設情況下，當 Resource 回應被轉成 JSON 時，最外層的資源會被包裝在 `data` 索引鍵地下。因此，舉例來說，正常的 Resource Collection 回應會長這樣："

#: ./docs/8.x/eloquent-resources.md:311
msgctxt "CODE"
msgid ""
"{\n"
"    \"data\": [\n"
"        {\n"
"            \"id\": 1,\n"
"            \"name\": \"Eladio Schroeder Sr.\",\n"
"            \"email\": \"therese28@example.com\",\n"
"        },\n"
"        {\n"
"            \"id\": 2,\n"
"            \"name\": \"Liliana Mayert\",\n"
"            \"email\": \"evandervort@example.com\",\n"
"        }\n"
"    ]\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:320
#: ./docs/10.x/eloquent-resources.md:320
#: ./docs/11.x/eloquent-resources.md:320
#: ./docs/master/eloquent-resources.md:320
msgctxt "CODE: json"
msgid ""
"{\n"
"    \"data\": [\n"
"        {\n"
"            \"id\": 1,\n"
"            \"name\": \"Eladio Schroeder Sr.\",\n"
"            \"email\": \"therese28@example.com\"\n"
"        },\n"
"        {\n"
"            \"id\": 2,\n"
"            \"name\": \"Liliana Mayert\",\n"
"            \"email\": \"evandervort@example.com\"\n"
"        }\n"
"    ]\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:326
#: ./docs/9.x/eloquent-resources.md:337
msgctxt "P"
msgid "If you would like to use a custom key instead of `data`, you may define a `$wrap` attribute on the resource class:"
msgstr "若使用 `data` 以外的其他自訂索引鍵，可以在 Resource 類別內定義一個 `$wrap`屬性："

#: ./docs/8.x/eloquent-resources.md:328
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * The \"data\" wrapper that should be applied.\n"
"     *\n"
"     * @var string\n"
"     */\n"
"    public static $wrap = 'user';\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:339
#: ./docs/11.x/eloquent-resources.md:339
#: ./docs/master/eloquent-resources.md:339
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Providers;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"use Illuminate\\Support\\ServiceProvider;\n"
"\n"
"class AppServiceProvider extends ServiceProvider\n"
"{\n"
"    /**\n"
"     * Register any application services.\n"
"     */\n"
"    public function register(): void\n"
"    {\n"
"        // ...\n"
"    }\n"
"\n"
"    /**\n"
"     * Bootstrap any application services.\n"
"     */\n"
"    public function boot(): void\n"
"    {\n"
"        JsonResource::withoutWrapping();\n"
"    }\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:339
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * The \"data\" wrapper that should be applied.\n"
"     *\n"
"     * @var string|null\n"
"     */\n"
"    public static $wrap = 'user';\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:344
#: ./docs/9.x/eloquent-resources.md:355
#: ./docs/10.x/eloquent-resources.md:337
#: ./docs/11.x/eloquent-resources.md:337
#: ./docs/master/eloquent-resources.md:337
msgctxt "P"
msgid "If you would like to disable the wrapping of the outermost resource, you should invoke the `withoutWrapping` method on the base `Illuminate\\Http\\Resources\\Json\\JsonResource` class. Typically, you should call this method from your `AppServiceProvider` or another [service provider](/docs/{{version}}/providers) that is loaded on every request to your application:"
msgstr "若不想要包裝最外層的資源，請叫用基礎 `Illuminate\\Http\\Resources\\Json\\JsonResource` 類別底下的 `withoutWrapping` 方法。一般來說，應在 `AppServiceProvider` 或其他每個請求都會載入的 [Service Provider](/docs/{{version}}/providers) 內呼叫這個方法："

#: ./docs/8.x/eloquent-resources.md:346
#: ./docs/9.x/eloquent-resources.md:357
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Providers;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"use Illuminate\\Support\\ServiceProvider;\n"
"\n"
"class AppServiceProvider extends ServiceProvider\n"
"{\n"
"    /**\n"
"     * Register any application services.\n"
"     *\n"
"     * @return void\n"
"     */\n"
"    public function register()\n"
"    {\n"
"        //\n"
"    }\n"
"\n"
"    /**\n"
"     * Bootstrap any application services.\n"
"     *\n"
"     * @return void\n"
"     */\n"
"    public function boot()\n"
"    {\n"
"        JsonResource::withoutWrapping();\n"
"    }\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:375
#: ./docs/11.x/eloquent-resources.md:375
#: ./docs/master/eloquent-resources.md:375
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class CommentsCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @return array<string, mixed>\n"
"     */\n"
"    public function toArray(Request $request): array\n"
"    {\n"
"        return ['data' => $this->collection];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:376
#: ./docs/9.x/eloquent-resources.md:388
#: ./docs/10.x/eloquent-resources.md:366
#: ./docs/11.x/eloquent-resources.md:366
#: ./docs/master/eloquent-resources.md:366
msgctxt "P"
msgid "The `withoutWrapping` method only affects the outermost response and will not remove `data` keys that you manually add to your own resource collections."
msgstr "`withoutWrapping` 方法只會影響最外層的回應。`withoutWrapping` 方法不會移除手動新增到 Resource Collection 內的 `data` 索引鍵。"

#: ./docs/8.x/eloquent-resources.md:378
#: ./docs/9.x/eloquent-resources.md:390
#: ./docs/10.x/eloquent-resources.md:368
#: ./docs/11.x/eloquent-resources.md:368
#: ./docs/master/eloquent-resources.md:368
#~ msgctxt "P"
#~ msgid "<a name=\"wrapping-nested-resources\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:379
#: ./docs/9.x/eloquent-resources.md:391
#: ./docs/10.x/eloquent-resources.md:369
#: ./docs/11.x/eloquent-resources.md:369
#: ./docs/master/eloquent-resources.md:369
msgctxt "H4"
msgid "Wrapping Nested Resources"
msgstr "包裝巢狀 Resource"

#: ./docs/8.x/eloquent-resources.md:381
#: ./docs/9.x/eloquent-resources.md:393
#: ./docs/10.x/eloquent-resources.md:371
#: ./docs/11.x/eloquent-resources.md:371
#: ./docs/master/eloquent-resources.md:371
msgctxt "P"
msgid "You have total freedom to determine how your resource's relationships are wrapped. If you would like all resource collections to be wrapped in a `data` key, regardless of their nesting, you should define a resource collection class for each resource and return the collection within a `data` key."
msgstr "對於要如何包裝 Resource 的關聯，開發人員擁有絕對的自由。若想讓所有無論是不是巢狀的 Resource Collection 都被包裝在 `data` 索引鍵內，則可以為每個 Resource 都定義一個 Resource Collection 類別，並以 `data` 索引鍵回傳 Collection。"

#: ./docs/8.x/eloquent-resources.md:383
#: ./docs/9.x/eloquent-resources.md:395
#: ./docs/10.x/eloquent-resources.md:373
#: ./docs/11.x/eloquent-resources.md:373
#: ./docs/master/eloquent-resources.md:373
msgctxt "P"
msgid "You may be wondering if this will cause your outermost resource to be wrapped in two `data` keys. Don't worry, Laravel will never let your resources be accidentally double-wrapped, so you don't have to be concerned about the nesting level of the resource collection you are transforming:"
msgstr "讀者可能會疑惑：這麼做會不會讓最外層的 Resource 被包裝在 `data` 索引鍵裡兩次？別擔心，Laravel 不會讓你不小心把 Resource 重複包裝的。因此，在轉換 Resource Collection 時，完全不需擔心 Resource Collection 的巢狀層級："

#: ./docs/8.x/eloquent-resources.md:385
#: ./docs/9.x/eloquent-resources.md:397
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class CommentsCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @return array\n"
"     */\n"
"    public function toArray($request)\n"
"    {\n"
"        return ['data' => $this->collection];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:395
#: ./docs/11.x/eloquent-resources.md:395
#: ./docs/master/eloquent-resources.md:395
msgctxt "H4"
msgid "Data Wrapping and Pagination"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:399
#: ./docs/10.x/eloquent-resources.md:445
#: ./docs/11.x/eloquent-resources.md:399
#: ./docs/11.x/eloquent-resources.md:445
#: ./docs/master/eloquent-resources.md:399
#: ./docs/master/eloquent-resources.md:445
msgctxt "CODE: json"
msgid ""
"{\n"
"    \"data\": [\n"
"        {\n"
"            \"id\": 1,\n"
"            \"name\": \"Eladio Schroeder Sr.\",\n"
"            \"email\": \"therese28@example.com\"\n"
"        },\n"
"        {\n"
"            \"id\": 2,\n"
"            \"name\": \"Liliana Mayert\",\n"
"            \"email\": \"evandervort@example.com\"\n"
"        }\n"
"    ],\n"
"    \"links\":{\n"
"        \"first\": \"http://example.com/users?page=1\",\n"
"        \"last\": \"http://example.com/users?page=1\",\n"
"        \"prev\": null,\n"
"        \"next\": null\n"
"    },\n"
"    \"meta\":{\n"
"        \"current_page\": 1,\n"
"        \"from\": 1,\n"
"        \"last_page\": 1,\n"
"        \"path\": \"http://example.com/users\",\n"
"        \"per_page\": 15,\n"
"        \"to\": 10,\n"
"        \"total\": 10\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:405
#: ./docs/9.x/eloquent-resources.md:417
#: ./docs/10.x/eloquent-resources.md:394
#: ./docs/11.x/eloquent-resources.md:394
#: ./docs/master/eloquent-resources.md:394
#~ msgctxt "P"
#~ msgid "<a name=\"data-wrapping-and-pagination\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:406
#: ./docs/9.x/eloquent-resources.md:418
msgctxt "H4"
msgid "Data Wrapping And Pagination"
msgstr "資料包裝與分頁"

#: ./docs/8.x/eloquent-resources.md:408
#: ./docs/9.x/eloquent-resources.md:420
#: ./docs/10.x/eloquent-resources.md:397
#: ./docs/11.x/eloquent-resources.md:397
#: ./docs/master/eloquent-resources.md:397
msgctxt "P"
msgid "When returning paginated collections via a resource response, Laravel will wrap your resource data in a `data` key even if the `withoutWrapping` method has been called. This is because paginated responses always contain `meta` and `links` keys with information about the paginator's state:"
msgstr "當使用 Resource 回應來回船分頁過的 Collection 時，就算有呼叫過 `withoutWrapper` 方法，Laravel 也會將這些 Resource 資料放在 `data` 索引鍵裡。這是因為，所有經過分頁的回應都會包含如 `meta` 與 `links` 等有關 Paginator 狀態的資訊："

#: ./docs/8.x/eloquent-resources.md:410
#: ./docs/8.x/eloquent-resources.md:454
msgctxt "CODE"
msgid ""
"{\n"
"    \"data\": [\n"
"        {\n"
"            \"id\": 1,\n"
"            \"name\": \"Eladio Schroeder Sr.\",\n"
"            \"email\": \"therese28@example.com\",\n"
"        },\n"
"        {\n"
"            \"id\": 2,\n"
"            \"name\": \"Liliana Mayert\",\n"
"            \"email\": \"evandervort@example.com\",\n"
"        }\n"
"    ],\n"
"    \"links\":{\n"
"        \"first\": \"http://example.com/pagination?page=1\",\n"
"        \"last\": \"http://example.com/pagination?page=1\",\n"
"        \"prev\": null,\n"
"        \"next\": null\n"
"    },\n"
"    \"meta\":{\n"
"        \"current_page\": 1,\n"
"        \"from\": 1,\n"
"        \"last_page\": 1,\n"
"        \"path\": \"http://example.com/pagination\",\n"
"        \"per_page\": 15,\n"
"        \"to\": 10,\n"
"        \"total\": 10\n"
"    }\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:422
#: ./docs/9.x/eloquent-resources.md:468
msgctxt "CODE: json"
msgid ""
"{\n"
"    \"data\": [\n"
"        {\n"
"            \"id\": 1,\n"
"            \"name\": \"Eladio Schroeder Sr.\",\n"
"            \"email\": \"therese28@example.com\"\n"
"        },\n"
"        {\n"
"            \"id\": 2,\n"
"            \"name\": \"Liliana Mayert\",\n"
"            \"email\": \"evandervort@example.com\"\n"
"        }\n"
"    ],\n"
"    \"links\":{\n"
"        \"first\": \"http://example.com/pagination?page=1\",\n"
"        \"last\": \"http://example.com/pagination?page=1\",\n"
"        \"prev\": null,\n"
"        \"next\": null\n"
"    },\n"
"    \"meta\":{\n"
"        \"current_page\": 1,\n"
"        \"from\": 1,\n"
"        \"last_page\": 1,\n"
"        \"path\": \"http://example.com/pagination\",\n"
"        \"per_page\": 15,\n"
"        \"to\": 10,\n"
"        \"total\": 10\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:440
#: ./docs/9.x/eloquent-resources.md:454
#: ./docs/10.x/eloquent-resources.md:431
#: ./docs/11.x/eloquent-resources.md:431
#: ./docs/master/eloquent-resources.md:431
#~ msgctxt "P"
#~ msgid "<a name=\"pagination\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:441
#: ./docs/9.x/eloquent-resources.md:455
#: ./docs/10.x/eloquent-resources.md:432
#: ./docs/11.x/eloquent-resources.md:432
#: ./docs/master/eloquent-resources.md:432
msgctxt "H3"
msgid "Pagination"
msgstr "分頁"

#: ./docs/8.x/eloquent-resources.md:443
#: ./docs/9.x/eloquent-resources.md:457
#: ./docs/10.x/eloquent-resources.md:434
#: ./docs/11.x/eloquent-resources.md:434
#: ./docs/master/eloquent-resources.md:434
msgctxt "P"
msgid "You may pass a Laravel paginator instance to the `collection` method of a resource or to a custom resource collection:"
msgstr "可以將 Laravel 的 Paginator 實體傳入 Resource 的 `collection` 方法或自訂 Resource Collection 中："

#: ./docs/8.x/eloquent-resources.md:445
#: ./docs/9.x/eloquent-resources.md:459
#: ./docs/10.x/eloquent-resources.md:436
#: ./docs/11.x/eloquent-resources.md:436
#: ./docs/master/eloquent-resources.md:436
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserCollection;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/users', function () {\n"
"    return new UserCollection(User::paginate());\n"
"});"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:452
#: ./docs/9.x/eloquent-resources.md:466
#: ./docs/10.x/eloquent-resources.md:443
#: ./docs/11.x/eloquent-resources.md:443
#: ./docs/master/eloquent-resources.md:443
msgctxt "P"
msgid "Paginated responses always contain `meta` and `links` keys with information about the paginator's state:"
msgstr "所有經過分頁的回應都會包含 `meta` 與 `links` 等關於 Paginator 狀態的資訊："

#: ./docs/10.x/eloquent-resources.md:477
#: ./docs/11.x/eloquent-resources.md:477
#: ./docs/master/eloquent-resources.md:477
#~ msgctxt "P"
#~ msgid "<a name=\"customizing-the-pagination-information\"></a>"
#~ msgstr ""

#: ./docs/10.x/eloquent-resources.md:478
#: ./docs/11.x/eloquent-resources.md:478
#: ./docs/master/eloquent-resources.md:478
msgctxt "H4"
msgid "Customizing the Pagination Information"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:480
#: ./docs/11.x/eloquent-resources.md:480
#: ./docs/master/eloquent-resources.md:480
msgctxt "P"
msgid "If you would like to customize the information included in the `links` or `meta` keys of the pagination response, you may define a `paginationInformation` method on the resource. This method will receive the `$paginated` data and the array of `$default` information, which is an array containing the `links` and `meta` keys:"
msgstr "若想自定分頁 Response 中 `links` 或 `meta` 索引鍵內所包含的資訊，可在 Resource 上定義 `paginationInformation` 方法。該方法會收到一個 `$paginated` 資料，以及一個陣列的 `$default` 資訊。`$default` 是一個包含 `links` 與 `meta` 索引鍵的陣列："

#: ./docs/10.x/eloquent-resources.md:482
#: ./docs/11.x/eloquent-resources.md:482
#: ./docs/master/eloquent-resources.md:482
msgctxt "CODE"
msgid ""
"/**\n"
" * Customize the pagination information for the resource.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @param  array $paginated\n"
" * @param  array $default\n"
" * @return array\n"
" */\n"
"public function paginationInformation($request, $paginated, $default)\n"
"{\n"
"    $default['links']['custom'] = 'https://example.com';\n"
"\n"
"    return $default;\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:484
#: ./docs/9.x/eloquent-resources.md:500
#: ./docs/10.x/eloquent-resources.md:497
#: ./docs/11.x/eloquent-resources.md:497
#: ./docs/master/eloquent-resources.md:497
#~ msgctxt "P"
#~ msgid "<a name=\"conditional-attributes\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:485
#: ./docs/9.x/eloquent-resources.md:501
#: ./docs/10.x/eloquent-resources.md:498
#: ./docs/11.x/eloquent-resources.md:498
#: ./docs/master/eloquent-resources.md:498
msgctxt "H3"
msgid "Conditional Attributes"
msgstr "有條件的屬性"

#: ./docs/8.x/eloquent-resources.md:487
#: ./docs/9.x/eloquent-resources.md:503
#: ./docs/10.x/eloquent-resources.md:500
#: ./docs/11.x/eloquent-resources.md:500
#: ./docs/master/eloquent-resources.md:500
msgctxt "P"
msgid "Sometimes you may wish to only include an attribute in a resource response if a given condition is met. For example, you may wish to only include a value if the current user is an \"administrator\". Laravel provides a variety of helper methods to assist you in this situation. The `when` method may be used to conditionally add an attribute to a resource response:"
msgstr "有時候，我們只想在滿足特定條件的時候才在 Resource 回應內包含某個屬性。舉例來說，我們或許會只在目前使用者是「管理員 (Administrator)」時才將某個值包含在回應內。Laravel 為這種情況提供了一個輔助函式。可以使用 `when` 來有條件地在 Resource 回應內新增屬性："

#: ./docs/8.x/eloquent-resources.md:489
msgctxt "CODE"
msgid ""
"use Illuminate\\Support\\Facades\\Auth;\n"
"\n"
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'secret' => $this->when(Auth::user()->isAdmin(), 'secret-value'),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:502
#: ./docs/11.x/eloquent-resources.md:502
#: ./docs/master/eloquent-resources.md:502
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'secret' => $this->when($request->user()->isAdmin(), 'secret-value'),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:505
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'secret' => $this->when($request->user()->isAdmin(), 'secret-value'),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:509
#: ./docs/9.x/eloquent-resources.md:523
#: ./docs/10.x/eloquent-resources.md:519
#: ./docs/11.x/eloquent-resources.md:519
#: ./docs/master/eloquent-resources.md:519
msgctxt "P"
msgid "In this example, the `secret` key will only be returned in the final resource response if the authenticated user's `isAdmin` method returns `true`. If the method returns `false`, the `secret` key will be removed from the resource response before it is sent to the client. The `when` method allows you to expressively define your resources without resorting to conditional statements when building the array."
msgstr "在這個例子中，只有在已登入使用者的 `idAdmin` 方法回傳 `true` 時，最終的 Resource 回應內才會包含 `secret` 索引鍵。若 `isAdmin` 方法回傳 `false`，則在 Resource 回應回傳給用戶端之前，`secret` 索引鍵就會被移除。使用 `when` 方法就可以用一種語意化的方法來定義 Resource，而不需要建立陣列時使用條件式陳述式。"

#: ./docs/8.x/eloquent-resources.md:511
#: ./docs/9.x/eloquent-resources.md:525
#: ./docs/10.x/eloquent-resources.md:521
#: ./docs/11.x/eloquent-resources.md:521
#: ./docs/master/eloquent-resources.md:521
msgctxt "P"
msgid "The `when` method also accepts a closure as its second argument, allowing you to calculate the resulting value only if the given condition is `true`:"
msgstr "`when` 的第二個引數也可以傳入一個閉包。可以使用這個閉包來只在條件為 `true` 時計算結果值："

#: ./docs/8.x/eloquent-resources.md:513
msgctxt "CODE"
msgid ""
"'secret' => $this->when(Auth::user()->isAdmin(), function () {\n"
"    return 'secret-value';\n"
"}),"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:517
#: ./docs/9.x/eloquent-resources.md:539
#: ./docs/10.x/eloquent-resources.md:535
#: ./docs/11.x/eloquent-resources.md:535
#: ./docs/master/eloquent-resources.md:535
#~ msgctxt "P"
#~ msgid "<a name=\"merging-conditional-attributes\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:518
#: ./docs/9.x/eloquent-resources.md:540
#: ./docs/10.x/eloquent-resources.md:536
#: ./docs/11.x/eloquent-resources.md:536
#: ./docs/master/eloquent-resources.md:536
msgctxt "H4"
msgid "Merging Conditional Attributes"
msgstr "合併有條件的屬性"

#: ./docs/8.x/eloquent-resources.md:520
#: ./docs/9.x/eloquent-resources.md:542
#: ./docs/10.x/eloquent-resources.md:538
#: ./docs/11.x/eloquent-resources.md:538
#: ./docs/master/eloquent-resources.md:538
msgctxt "P"
msgid "Sometimes you may have several attributes that should only be included in the resource response based on the same condition. In this case, you may use the `mergeWhen` method to include the attributes in the response only when the given condition is `true`:"
msgstr "有時候，我們可能會有數個屬性想依據相同的條件來被包含在 Resource 回應中。在這種情況下，可以使用 `mergeWhen` 方法來只在給定條件為 `true` 時將這些屬性包含在回應中："

#: ./docs/8.x/eloquent-resources.md:522
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        $this->mergeWhen(Auth::user()->isAdmin(), [\n"
"            'first-secret' => 'value',\n"
"            'second-secret' => 'value',\n"
"        ]),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:527
#: ./docs/10.x/eloquent-resources.md:523
#: ./docs/11.x/eloquent-resources.md:523
#: ./docs/master/eloquent-resources.md:523
msgctxt "CODE"
msgid ""
"'secret' => $this->when($request->user()->isAdmin(), function () {\n"
"    return 'secret-value';\n"
"}),"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:531
#: ./docs/10.x/eloquent-resources.md:527
#: ./docs/11.x/eloquent-resources.md:527
#: ./docs/master/eloquent-resources.md:527
msgctxt "P"
msgid "The `whenHas` method may be used to include an attribute if it is actually present on the underlying model:"
msgstr "`whenHas` 方法可用來在當底層 Model 內真的有包含某個屬性時將該屬性包含進來："

#: ./docs/9.x/eloquent-resources.md:533
#: ./docs/10.x/eloquent-resources.md:529
#: ./docs/11.x/eloquent-resources.md:529
#: ./docs/master/eloquent-resources.md:529
msgctxt "CODE"
msgid "'name' => $this->whenHas('name'),"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:535
#: ./docs/10.x/eloquent-resources.md:531
#: ./docs/11.x/eloquent-resources.md:531
#: ./docs/master/eloquent-resources.md:531
msgctxt "P"
msgid "Additionally, the `whenNotNull` method may be used to include an attribute in the resource response if the attribute is not null:"
msgstr "此外，當屬性不為 null 時，也可以使用 `whereNotNull` 來在 Resource Response 中包含某個屬性："

#: ./docs/9.x/eloquent-resources.md:537
#: ./docs/10.x/eloquent-resources.md:533
#: ./docs/11.x/eloquent-resources.md:533
#: ./docs/master/eloquent-resources.md:533
msgctxt "CODE"
msgid "'name' => $this->whenNotNull($this->name),"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:540
#: ./docs/11.x/eloquent-resources.md:540
#: ./docs/master/eloquent-resources.md:540
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        $this->mergeWhen($request->user()->isAdmin(), [\n"
"            'first-secret' => 'value',\n"
"            'second-secret' => 'value',\n"
"        ]),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:543
#: ./docs/9.x/eloquent-resources.md:565
#: ./docs/10.x/eloquent-resources.md:560
#: ./docs/11.x/eloquent-resources.md:560
#: ./docs/master/eloquent-resources.md:560
msgctxt "P"
msgid "Again, if the given condition is `false`, these attributes will be removed from the resource response before it is sent to the client."
msgstr "跟剛才一樣，如果給定條件為 `false`，則這些屬性將在傳回給用戶端前被從 Resource 回應中移除。"

#: ./docs/9.x/eloquent-resources.md:544
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        $this->mergeWhen($request->user()->isAdmin(), [\n"
"            'first-secret' => 'value',\n"
"            'second-secret' => 'value',\n"
"        ]),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:545
#: ./docs/9.x/eloquent-resources.md:568
#: ./docs/10.x/eloquent-resources.md:563
#: ./docs/11.x/eloquent-resources.md:563
#: ./docs/master/eloquent-resources.md:563
msgctxt "P"
msgid "The `mergeWhen` method should not be used within arrays that mix string and numeric keys. Furthermore, it should not be used within arrays with numeric keys that are not ordered sequentially."
msgstr "`mergeWhen` 方法不可使用在組合使用數字與字串索引鍵的陣列上。此外，`mergeWhen` 也不能使用在數字索引鍵沒有連續的陣列上。"

#: ./docs/8.x/eloquent-resources.md:547
#: ./docs/9.x/eloquent-resources.md:570
#: ./docs/10.x/eloquent-resources.md:565
#: ./docs/11.x/eloquent-resources.md:565
#: ./docs/master/eloquent-resources.md:565
#~ msgctxt "P"
#~ msgid "<a name=\"conditional-relationships\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:548
#: ./docs/9.x/eloquent-resources.md:571
#: ./docs/10.x/eloquent-resources.md:566
#: ./docs/11.x/eloquent-resources.md:566
#: ./docs/master/eloquent-resources.md:566
msgctxt "H3"
msgid "Conditional Relationships"
msgstr "有條件的關聯"

#: ./docs/8.x/eloquent-resources.md:550
#: ./docs/9.x/eloquent-resources.md:573
#: ./docs/10.x/eloquent-resources.md:568
#: ./docs/11.x/eloquent-resources.md:568
#: ./docs/master/eloquent-resources.md:568
msgctxt "P"
msgid "In addition to conditionally loading attributes, you may conditionally include relationships on your resource responses based on if the relationship has already been loaded on the model. This allows your controller to decide which relationships should be loaded on the model and your resource can easily include them only when they have actually been loaded. Ultimately, this makes it easier to avoid \"N+1\" query problems within your resources."
msgstr "除了有條件地載入屬性外，我們還能依據關聯是否已載入到 Model 上來有條件地將關聯包含在 Resource 回應中。這樣一來，我們的 Controller 就能決定要載入哪些關聯，而 Resource 就可以輕鬆地在有載入這些關聯的時候才將這些關聯包含在回應中。最後，這麼做就能輕鬆地在 Resource 內避免「N+1」查詢。"

#: ./docs/8.x/eloquent-resources.md:552
#: ./docs/9.x/eloquent-resources.md:575
#: ./docs/10.x/eloquent-resources.md:570
#: ./docs/11.x/eloquent-resources.md:570
#: ./docs/master/eloquent-resources.md:570
msgctxt "P"
msgid "The `whenLoaded` method may be used to conditionally load a relationship. In order to avoid unnecessarily loading relationships, this method accepts the name of the relationship instead of the relationship itself:"
msgstr "可以使用 `whenLoaded` 方法來有條件地載入關聯。為了避免不必要地載入關聯，這個方法接受關聯的名稱，而非關聯物件本身："

#: ./docs/8.x/eloquent-resources.md:554
#: ./docs/9.x/eloquent-resources.md:577
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\PostResource;\n"
"\n"
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'posts' => PostResource::collection($this->whenLoaded('posts')),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:572
#: ./docs/11.x/eloquent-resources.md:572
#: ./docs/master/eloquent-resources.md:572
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\PostResource;\n"
"\n"
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'posts' => PostResource::collection($this->whenLoaded('posts')),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:574
#: ./docs/9.x/eloquent-resources.md:597
#: ./docs/10.x/eloquent-resources.md:591
#: ./docs/11.x/eloquent-resources.md:591
#: ./docs/master/eloquent-resources.md:591
msgctxt "P"
msgid "In this example, if the relationship has not been loaded, the `posts` key will be removed from the resource response before it is sent to the client."
msgstr "在這個例子中，若尚未載入關聯，則在回傳給用戶端前 `posts` 索引鍵就會被移除。"

#: ./docs/8.x/eloquent-resources.md:576
#: ./docs/9.x/eloquent-resources.md:628
#: ./docs/10.x/eloquent-resources.md:630
#: ./docs/11.x/eloquent-resources.md:630
#: ./docs/master/eloquent-resources.md:630
#~ msgctxt "P"
#~ msgid "<a name=\"conditional-pivot-information\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:577
#: ./docs/9.x/eloquent-resources.md:629
#: ./docs/10.x/eloquent-resources.md:631
#: ./docs/11.x/eloquent-resources.md:631
#: ./docs/master/eloquent-resources.md:631
msgctxt "H4"
msgid "Conditional Pivot Information"
msgstr "有條件的樞紐 (Pivot) 資訊"

#: ./docs/8.x/eloquent-resources.md:579
#: ./docs/9.x/eloquent-resources.md:631
#: ./docs/10.x/eloquent-resources.md:633
#: ./docs/11.x/eloquent-resources.md:633
#: ./docs/master/eloquent-resources.md:633
msgctxt "P"
msgid "In addition to conditionally including relationship information in your resource responses, you may conditionally include data from the intermediate tables of many-to-many relationships using the `whenPivotLoaded` method. The `whenPivotLoaded` method accepts the name of the pivot table as its first argument. The second argument should be a closure that returns the value to be returned if the pivot information is available on the model:"
msgstr "除了有條件地將關聯資訊加到 Resource 回應內之外，我們還能使用 `whenPivotLoaded` 方法來有條件地包含 Many-to-many 關聯的中介資料表中的資料庫。`whenPivotLoaded` 方法的第一個引數為樞紐資料表的名稱，第二個引數則為一個閉包，該閉包應回傳當 Model 上有樞紐資訊時要回傳的值："

#: ./docs/8.x/eloquent-resources.md:581
#: ./docs/9.x/eloquent-resources.md:633
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'expires_at' => $this->whenPivotLoaded('role_user', function () {\n"
"            return $this->pivot->expires_at;\n"
"        }),\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:598
#: ./docs/9.x/eloquent-resources.md:650
#: ./docs/10.x/eloquent-resources.md:651
#: ./docs/11.x/eloquent-resources.md:651
#: ./docs/master/eloquent-resources.md:651
msgctxt "P"
msgid "If your relationship is using a [custom intermediate table model](/docs/{{version}}/eloquent-relationships#defining-custom-intermediate-table-models), you may pass an instance of the intermediate table model as the first argument to the `whenPivotLoaded` method:"
msgstr "若關聯使用[自訂的中介資料表 Model](/docs/{{version}}/eloquent-relationships#defining-custom-intermediate-table-models)，則應講樞紐資料表的實體作為第一個引數傳給 `whenPivotLoaded` 方法："

#: ./docs/9.x/eloquent-resources.md:599
#: ./docs/10.x/eloquent-resources.md:593
#: ./docs/11.x/eloquent-resources.md:593
#: ./docs/master/eloquent-resources.md:593
#~ msgctxt "P"
#~ msgid "<a name=\"conditional-relationship-counts\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:600
#: ./docs/9.x/eloquent-resources.md:652
#: ./docs/10.x/eloquent-resources.md:653
#: ./docs/11.x/eloquent-resources.md:653
#: ./docs/master/eloquent-resources.md:653
msgctxt "CODE"
msgid ""
"'expires_at' => $this->whenPivotLoaded(new Membership, function () {\n"
"    return $this->pivot->expires_at;\n"
"}),"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:600
#: ./docs/10.x/eloquent-resources.md:594
#: ./docs/11.x/eloquent-resources.md:594
#: ./docs/master/eloquent-resources.md:594
msgctxt "H4"
msgid "Conditional Relationship Counts"
msgstr "條件式關聯的計數"

#: ./docs/10.x/eloquent-resources.md:602
#: ./docs/11.x/eloquent-resources.md:602
#: ./docs/master/eloquent-resources.md:602
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'posts_count' => $this->whenCounted('posts'),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:602
#: ./docs/10.x/eloquent-resources.md:596
#: ./docs/11.x/eloquent-resources.md:596
#: ./docs/master/eloquent-resources.md:596
msgctxt "P"
msgid "In addition to conditionally including relationships, you may conditionally include relationship \"counts\" on your resource responses based on if the relationship's count has been loaded on the model:"
msgstr "除了可有條件地包含關聯外，我們也可以依據關聯的計數是否已載入到 Model 上來將關聯的「計數 (Count)」包含到 Resource Response 上："

#: ./docs/8.x/eloquent-resources.md:604
#: ./docs/9.x/eloquent-resources.md:656
#: ./docs/10.x/eloquent-resources.md:657
#: ./docs/11.x/eloquent-resources.md:657
#: ./docs/master/eloquent-resources.md:657
msgctxt "P"
msgid "If your intermediate table is using an accessor other than `pivot`, you may use the `whenPivotLoadedAs` method:"
msgstr "若中介資料表使用 `pivot` 以外的存取方法，則可以使用 `whenPivotLoadesAs` 方法："

#: ./docs/9.x/eloquent-resources.md:604
#: ./docs/10.x/eloquent-resources.md:598
#: ./docs/11.x/eloquent-resources.md:598
#: ./docs/master/eloquent-resources.md:598
msgctxt "CODE"
msgid "new UserResource($user->loadCount('posts'));"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:606
#: ./docs/9.x/eloquent-resources.md:658
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'expires_at' => $this->whenPivotLoadedAs('subscription', 'role_user', function () {\n"
"            return $this->subscription->expires_at;\n"
"        }),\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/9.x/eloquent-resources.md:606
#: ./docs/10.x/eloquent-resources.md:600
#: ./docs/11.x/eloquent-resources.md:600
#: ./docs/master/eloquent-resources.md:600
msgctxt "P"
msgid "The `whenCounted` method may be used to conditionally include a relationship's count in your resource response. This method avoids unnecessarily including the attribute if the relationships' count is not present:"
msgstr "`whenCounted` 方法可用來有條件地在 Resource Response 上包含關聯的計數。使用該方法也能避免在關聯沒有計數時將其包含進來："

#: ./docs/9.x/eloquent-resources.md:608
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'email' => $this->email,\n"
"        'posts_count' => $this->whenCounted('posts'),\n"
"        'created_at' => $this->created_at,\n"
"        'updated_at' => $this->updated_at,\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:621
#: ./docs/11.x/eloquent-resources.md:621
#: ./docs/master/eloquent-resources.md:621
msgctxt "P"
msgid "Other types of aggregates, such as `avg`, `sum`, `min`, and `max` may also be conditionally loaded using the `whenAggregated` method:"
msgstr "其他的匯總類型，如 `avg`, `sum`, min` 與 `max` 也可以使用 `whenAggregated` 方法來有條件地載入："

#: ./docs/10.x/eloquent-resources.md:623
#: ./docs/11.x/eloquent-resources.md:623
#: ./docs/master/eloquent-resources.md:623
msgctxt "CODE: php"
msgid ""
"'words_avg' => $this->whenAggregated('posts', 'words', 'avg'),\n"
"'words_sum' => $this->whenAggregated('posts', 'words', 'sum'),\n"
"'words_min' => $this->whenAggregated('posts', 'words', 'min'),\n"
"'words_max' => $this->whenAggregated('posts', 'words', 'max'),"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:623
#: ./docs/9.x/eloquent-resources.md:675
#: ./docs/10.x/eloquent-resources.md:675
#: ./docs/11.x/eloquent-resources.md:675
#: ./docs/master/eloquent-resources.md:675
#~ msgctxt "P"
#~ msgid "<a name=\"adding-meta-data\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:624
#: ./docs/9.x/eloquent-resources.md:676
#: ./docs/10.x/eloquent-resources.md:676
#: ./docs/11.x/eloquent-resources.md:676
#: ./docs/master/eloquent-resources.md:676
msgctxt "H3"
msgid "Adding Meta Data"
msgstr "新增詮釋資料"

#: ./docs/8.x/eloquent-resources.md:626
#: ./docs/9.x/eloquent-resources.md:678
#: ./docs/10.x/eloquent-resources.md:678
#: ./docs/master/eloquent-resources.md:678
msgctxt "P"
msgid "Some JSON API standards require the addition of meta data to your resource and resource collections responses. This often includes things like `links` to the resource or related resources, or meta data about the resource itself. If you need to return additional meta data about a resource, include it in your `toArray` method. For example, you might include `link` information when transforming a resource collection:"
msgstr "有的 JSON API 標準中要求要有 Resource 與 Resource Collection 回應的詮釋資料 (Meta Data)。通常包含如 Resource 或關聯 Resource 的連結 (`links`)、或是有關 Resource 本身的詮釋資料等。若想回傳關於 Resource 的額外詮釋資料，請將這些資料包含在 `toArray` 方法內。舉例來說，我們可能會想在轉換 Resource Collection 時包含 `link` 資訊："

#: ./docs/9.x/eloquent-resources.md:626
#: ./docs/10.x/eloquent-resources.md:619
#: ./docs/11.x/eloquent-resources.md:619
#: ./docs/master/eloquent-resources.md:619
msgctxt "P"
msgid "In this example, if the `posts` relationship's count has not been loaded, the `posts_count` key will be removed from the resource response before it is sent to the client."
msgstr "在這個範例中，若 `posts` 關聯的計數未載入，則 `posts_count` 索引鍵就會在傳給用戶端前被移除。"

#: ./docs/8.x/eloquent-resources.md:628
#: ./docs/9.x/eloquent-resources.md:680
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @param  \\Illuminate\\Http\\Request  $request\n"
" * @return array\n"
" */\n"
"public function toArray($request)\n"
"{\n"
"    return [\n"
"        'data' => $this->collection,\n"
"        'links' => [\n"
"            'self' => 'link-value',\n"
"        ],\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:635
#: ./docs/11.x/eloquent-resources.md:635
#: ./docs/master/eloquent-resources.md:635
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'expires_at' => $this->whenPivotLoaded('role_user', function () {\n"
"            return $this->pivot->expires_at;\n"
"        }),\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:644
#: ./docs/9.x/eloquent-resources.md:696
#: ./docs/10.x/eloquent-resources.md:695
#: ./docs/11.x/eloquent-resources.md:695
#: ./docs/master/eloquent-resources.md:695
msgctxt "P"
msgid "When returning additional meta data from your resources, you never have to worry about accidentally overriding the `links` or `meta` keys that are automatically added by Laravel when returning paginated responses. Any additional `links` you define will be merged with the links provided by the paginator."
msgstr "當從 Resource 內回傳額外的詮釋資料時，不需擔心是否會不小心複寫在回傳經過分頁的資料時 Laravel 自動新增的 `links` 或 `meta` 等資料。若有定義額外的 `links`，這些 `links` 會跟 Paginator 提供的連結合併在一起。"

#: ./docs/8.x/eloquent-resources.md:646
#: ./docs/9.x/eloquent-resources.md:698
#: ./docs/10.x/eloquent-resources.md:697
#: ./docs/11.x/eloquent-resources.md:697
#: ./docs/master/eloquent-resources.md:697
#~ msgctxt "P"
#~ msgid "<a name=\"top-level-meta-data\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:647
#: ./docs/9.x/eloquent-resources.md:699
#: ./docs/10.x/eloquent-resources.md:698
#: ./docs/11.x/eloquent-resources.md:698
#: ./docs/master/eloquent-resources.md:698
msgctxt "H4"
msgid "Top Level Meta Data"
msgstr "最上層的詮釋資料"

#: ./docs/8.x/eloquent-resources.md:649
#: ./docs/9.x/eloquent-resources.md:701
#: ./docs/10.x/eloquent-resources.md:700
#: ./docs/11.x/eloquent-resources.md:700
#: ./docs/master/eloquent-resources.md:700
msgctxt "P"
msgid "Sometimes you may wish to only include certain meta data with a resource response if the resource is the outermost resource being returned. Typically, this includes meta information about the response as a whole. To define this meta data, add a `with` method to your resource class. This method should return an array of meta data to be included with the resource response only when the resource is the outermost resource being transformed:"
msgstr "有時候，我們可能會想只在當目前 Resource 是回傳的最外層 Resource 時才包含某些詮釋資料。一般來說，這種情況的詮釋資料就是對於回應的詮釋資料。若要定義這種詮釋資料，可在 Resource 類別內加上一個 `with` 方法。這個方法應回傳一組包含詮釋資料的陣列，用以在目前 Resource 是最外層 Resource 時包含在 Resource 回應內："

#: ./docs/8.x/eloquent-resources.md:651
#: ./docs/9.x/eloquent-resources.md:703
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class UserCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @return array\n"
"     */\n"
"    public function toArray($request)\n"
"    {\n"
"        return parent::toArray($request);\n"
"    }\n"
"\n"
"    /**\n"
"     * Get additional data that should be returned with the resource array.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @return array\n"
"     */\n"
"    public function with($request)\n"
"    {\n"
"        return [\n"
"            'meta' => [\n"
"                'key' => 'value',\n"
"            ],\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:659
#: ./docs/11.x/eloquent-resources.md:659
#: ./docs/master/eloquent-resources.md:659
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'id' => $this->id,\n"
"        'name' => $this->name,\n"
"        'expires_at' => $this->whenPivotLoadedAs('subscription', 'role_user', function () {\n"
"            return $this->subscription->expires_at;\n"
"        }),\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/11.x/eloquent-resources.md:678
msgctxt "P"
msgid "Some JSON API standards require the addition of meta data to your resource and resource collections responses. This often includes things like `links` to the resource or related resources, or meta data about the resource itself. If you need to return additional meta data about a resource, include it in your `toArray` method. For example, you might include `links` information when transforming a resource collection:"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:680
#: ./docs/11.x/eloquent-resources.md:680
#: ./docs/master/eloquent-resources.md:680
msgctxt "CODE"
msgid ""
"/**\n"
" * Transform the resource into an array.\n"
" *\n"
" * @return array<string, mixed>\n"
" */\n"
"public function toArray(Request $request): array\n"
"{\n"
"    return [\n"
"        'data' => $this->collection,\n"
"        'links' => [\n"
"            'self' => 'link-value',\n"
"        ],\n"
"    ];\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:686
#: ./docs/9.x/eloquent-resources.md:738
#: ./docs/10.x/eloquent-resources.md:735
#: ./docs/11.x/eloquent-resources.md:735
#: ./docs/master/eloquent-resources.md:735
#~ msgctxt "P"
#~ msgid "<a name=\"adding-meta-data-when-constructing-resources\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:687
#: ./docs/9.x/eloquent-resources.md:739
#: ./docs/10.x/eloquent-resources.md:736
#: ./docs/11.x/eloquent-resources.md:736
#: ./docs/master/eloquent-resources.md:736
msgctxt "H4"
msgid "Adding Meta Data When Constructing Resources"
msgstr "在建立 Resource 時加上詮釋資料"

#: ./docs/8.x/eloquent-resources.md:689
#: ./docs/9.x/eloquent-resources.md:741
#: ./docs/10.x/eloquent-resources.md:738
#: ./docs/11.x/eloquent-resources.md:738
#: ./docs/master/eloquent-resources.md:738
msgctxt "P"
msgid "You may also add top-level data when constructing resource instances in your route or controller. The `additional` method, which is available on all resources, accepts an array of data that should be added to the resource response:"
msgstr "我們也可以在路由或 Controller 內建構 Resource 時加上最上層的資料。 所有 Resource 內都提供了一個 `additional` 方法，可將要加到 Resource 回應內的資料放在陣列中傳給該方法："

#: ./docs/8.x/eloquent-resources.md:691
#: ./docs/9.x/eloquent-resources.md:743
#: ./docs/10.x/eloquent-resources.md:740
#: ./docs/11.x/eloquent-resources.md:740
#: ./docs/master/eloquent-resources.md:740
msgctxt "CODE"
msgid ""
"return (new UserCollection(User::all()->load('roles')))\n"
"                ->additional(['meta' => [\n"
"                    'key' => 'value',\n"
"                ]]);"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:696
#: ./docs/9.x/eloquent-resources.md:748
#: ./docs/10.x/eloquent-resources.md:745
#: ./docs/11.x/eloquent-resources.md:745
#: ./docs/master/eloquent-resources.md:745
#~ msgctxt "P"
#~ msgid "<a name=\"resource-responses\"></a>"
#~ msgstr ""

#: ./docs/8.x/eloquent-resources.md:697
#: ./docs/9.x/eloquent-resources.md:749
#: ./docs/10.x/eloquent-resources.md:746
#: ./docs/11.x/eloquent-resources.md:746
#: ./docs/master/eloquent-resources.md:746
msgctxt "H2"
msgid "Resource Responses"
msgstr "Resource 回應"

#: ./docs/8.x/eloquent-resources.md:699
#: ./docs/9.x/eloquent-resources.md:751
#: ./docs/10.x/eloquent-resources.md:748
#: ./docs/11.x/eloquent-resources.md:748
#: ./docs/master/eloquent-resources.md:748
msgctxt "P"
msgid "As you have already read, resources may be returned directly from routes and controllers:"
msgstr "剛才已經讀過，我們可以直接從路由或 Controller 內回傳 Resource："

#: ./docs/10.x/eloquent-resources.md:702
#: ./docs/11.x/eloquent-resources.md:702
#: ./docs/master/eloquent-resources.md:702
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\ResourceCollection;\n"
"\n"
"class UserCollection extends ResourceCollection\n"
"{\n"
"    /**\n"
"     * Transform the resource collection into an array.\n"
"     *\n"
"     * @return array<string, mixed>\n"
"     */\n"
"    public function toArray(Request $request): array\n"
"    {\n"
"        return parent::toArray($request);\n"
"    }\n"
"\n"
"    /**\n"
"     * Get additional data that should be returned with the resource array.\n"
"     *\n"
"     * @return array<string, mixed>\n"
"     */\n"
"    public function with(Request $request): array\n"
"    {\n"
"        return [\n"
"            'meta' => [\n"
"                'key' => 'value',\n"
"            ],\n"
"        ];\n"
"    }\n"
"}"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:708
#: ./docs/9.x/eloquent-resources.md:760
#: ./docs/10.x/eloquent-resources.md:757
#: ./docs/11.x/eloquent-resources.md:757
#: ./docs/master/eloquent-resources.md:757
msgctxt "P"
msgid "However, sometimes you may need to customize the outgoing HTTP response before it is sent to the client. There are two ways to accomplish this. First, you may chain the `response` method onto the resource. This method will return an `Illuminate\\Http\\JsonResponse` instance, giving you full control over the response's headers:"
msgstr "不過，有的時候我們會需要在回應被傳回用戶端前自訂外連 HTTP 回應。有兩種方法可以自訂外連 HTTP 回應。第一種方法，我們可以將 `response` 方法串連到 Resource 後面。該方法會回傳一個 `Illuminate\\Http\\JsonResponse` 實體，讓我們能對回應的標頭有完整的控制權："

#: ./docs/8.x/eloquent-resources.md:710
#: ./docs/9.x/eloquent-resources.md:762
#: ./docs/10.x/eloquent-resources.md:759
#: ./docs/11.x/eloquent-resources.md:759
#: ./docs/master/eloquent-resources.md:759
msgctxt "CODE"
msgid ""
"use App\\Http\\Resources\\UserResource;\n"
"use App\\Models\\User;\n"
"\n"
"Route::get('/user', function () {\n"
"    return (new UserResource(User::find(1)))\n"
"                ->response()\n"
"                ->header('X-Value', 'True');\n"
"});"
msgstr ""

#: ./docs/8.x/eloquent-resources.md:719
#: ./docs/9.x/eloquent-resources.md:771
#: ./docs/10.x/eloquent-resources.md:768
#: ./docs/11.x/eloquent-resources.md:768
#: ./docs/master/eloquent-resources.md:768
msgctxt "P"
msgid "Alternatively, you may define a `withResponse` method within the resource itself. This method will be called when the resource is returned as the outermost resource in a response:"
msgstr "或者，也可以在 Resource 裡面定義一個 `withResponse`。這個方法會在該 Resource 是回應中最外層 Resource 時被呼叫："

#: ./docs/8.x/eloquent-resources.md:721
#: ./docs/9.x/eloquent-resources.md:773
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * Transform the resource into an array.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @return array\n"
"     */\n"
"    public function toArray($request)\n"
"    {\n"
"        return [\n"
"            'id' => $this->id,\n"
"        ];\n"
"    }\n"
"\n"
"    /**\n"
"     * Customize the outgoing response for the resource.\n"
"     *\n"
"     * @param  \\Illuminate\\Http\\Request  $request\n"
"     * @param  \\Illuminate\\Http\\Response  $response\n"
"     * @return void\n"
"     */\n"
"    public function withResponse($request, $response)\n"
"    {\n"
"        $response->header('X-Value', 'True');\n"
"    }\n"
"}"
msgstr ""

#: ./docs/10.x/eloquent-resources.md:770
#: ./docs/11.x/eloquent-resources.md:770
#: ./docs/master/eloquent-resources.md:770
msgctxt "CODE"
msgid ""
"<?php\n"
"\n"
"namespace App\\Http\\Resources;\n"
"\n"
"use Illuminate\\Http\\JsonResponse;\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Resources\\Json\\JsonResource;\n"
"\n"
"class UserResource extends JsonResource\n"
"{\n"
"    /**\n"
"     * Transform the resource into an array.\n"
"     *\n"
"     * @return array<string, mixed>\n"
"     */\n"
"    public function toArray(Request $request): array\n"
"    {\n"
"        return [\n"
"            'id' => $this->id,\n"
"        ];\n"
"    }\n"
"\n"
"    /**\n"
"     * Customize the outgoing response for the resource.\n"
"     */\n"
"    public function withResponse(Request $request, JsonResponse $response): void\n"
"    {\n"
"        $response->header('X-Value', 'True');\n"
"    }\n"
"}"
msgstr ""
