msgid ""
msgstr ""
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Crowdin-Project: laravel-docs\n"
"X-Crowdin-Project-ID: 447952\n"
"X-Crowdin-Language: zh-TW\n"
"X-Crowdin-File: /main/templates/pennant.pot\n"
"X-Crowdin-File-ID: 183\n"
"Project-Id-Version: laravel-docs\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Language-Team: Chinese Traditional\n"
"Language: zh_TW\n"
"PO-Revision-Date: 2023-02-11 10:28\n"

#: docs/10.x/pennant.md:block 1 (header)
msgid "Laravel Pennant"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Introduction](#introduction)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Installation](#installation)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Configuration](#configuration)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Defining Features](#defining-features)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Class Based Features](#class-based-features)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Checking Features](#checking-features)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Conditional Execution](#conditional-execution)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Blade Directive](#blade-directive)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Middleware](#middleware)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[In-Memory Cache](#in-memory-cache)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Scope](#scope)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Specifying The Scope](#specifying-the-scope)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Default Scope](#default-scope)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Nullable Scope](#nullable-scope)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Identifying Scope](#identifying-scope)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Rich Feature Values](#rich-feature-values)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Eager Loading](#eager-loading)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Updating Values](#updating-values)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Bulk Updates](#bulk-updates)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Purging Features](#purging-features)"
msgstr ""

#: docs/10.x/pennant.md:block 2 (unordered list)
msgid "[Events](#events)"
msgstr ""

#: docs/10.x/pennant.md:block 4 (header)
msgid "Introduction"
msgstr ""

#: docs/10.x/pennant.md:block 5 (paragraph)
msgid "[Laravel Pennant](https://github.com/laravel/pennant) is a simple and lightweight feature flag package - without the cruft. Feature flags enable you to incrementally roll out new application features with confidence, A/B test new interface designs, compliment a trunk-based development strategy, and much more."
msgstr ""

#: docs/10.x/pennant.md:block 7 (header)
msgid "Installation"
msgstr ""

#: docs/10.x/pennant.md:block 8 (paragraph)
msgid "First, install Pennant into your project using the Composer package manager:"
msgstr ""

#: docs/10.x/pennant.md:block 9 (code)
msgid "composer require laravel/pennant\n"
msgstr ""

#: docs/10.x/pennant.md:block 10 (paragraph)
msgid "Next, you should publish the Pennant configuration and migration files using the `vendor:publish` Artisan command:"
msgstr ""

#: docs/10.x/pennant.md:block 11 (code)
msgid "php artisan vendor:publish --provider=\"Laravel\\Pennant\\PennantServiceProvider\"\n"
msgstr ""

#: docs/10.x/pennant.md:block 12 (paragraph)
msgid "Finally, you should run your application's database migrations. This will create a `features` table that Pennant uses to power its `database` driver:"
msgstr ""

#: docs/10.x/pennant.md:block 13 (code)
msgid "php artisan migrate\n"
msgstr ""

#: docs/10.x/pennant.md:block 15 (header)
msgid "Configuration"
msgstr ""

#: docs/10.x/pennant.md:block 16 (paragraph)
msgid "After publishing Pennant's assets, its configuration file will be located at `config/pennant.php`. This configuration file allows you to specify the default storage mechanism that will be used by Pennant to store resolved feature flag values."
msgstr ""

#: docs/10.x/pennant.md:block 17 (paragraph)
msgid "Pennant includes support for storing resolved feature flag values in an in-memory array via the `array` driver. Or, Pennant can store resolved feature flag values persistently in a relational database via the `database` driver, which is the default storage mechanism used by Pennant."
msgstr ""

#: docs/10.x/pennant.md:block 19 (header)
msgid "Defining Features"
msgstr ""

#: docs/10.x/pennant.md:block 20 (paragraph)
msgid "To define a feature, you may use the `define` method offered by the `Feature` facade. You will need to provide a name for the feature, as well as a closure that will be invoked to resolve the feature's initial value."
msgstr ""

#: docs/10.x/pennant.md:block 21 (paragraph)
msgid "Typically, features are defined in a service provider using the `Feature` facade. The closure will receive the \"scope\" for the feature check. Most commonly, the scope is the currently authenticated user. In this example, we will define a feature for incrementally rolling out a new API to our application's users:"
msgstr ""

#: docs/10.x/pennant.md:block 22 (code)
msgid "<?php\n\n"
"namespace App\\Providers;\n\n"
"use App\\Models\\User;\n"
"use Illuminate\\Support\\Lottery;\n"
"use Illuminate\\Support\\ServiceProvider;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"class AppServiceProvider extends ServiceProvider\n"
"{\n"
"    /**\n"
"     * Bootstrap any application services.\n"
"     */\n"
"    public function boot(): void\n"
"    {\n"
"        Feature::define('new-api', fn (User $user) => match (true) {\n"
"            $user->isInternalTeamMember() => true,\n"
"            $user->isHighTrafficCustomer() => false,\n"
"            default => Lottery::odds(1 / 100),\n"
"        });\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 23 (paragraph)
msgid "As you can see, we have the following rules for our feature:"
msgstr ""

#: docs/10.x/pennant.md:block 24 (unordered list)
msgid "All internal team members should be using the new API."
msgstr ""

#: docs/10.x/pennant.md:block 24 (unordered list)
msgid "Any high traffic customers should not be using the new API."
msgstr ""

#: docs/10.x/pennant.md:block 24 (unordered list)
msgid "Otherwise, the feature should be randomly assigned to users with a 1 in 100 chance of being active."
msgstr ""

#: docs/10.x/pennant.md:block 25 (paragraph)
msgid "The first time the `new-api` feature is checked for a given user, the result of the closure will be stored by the storage driver. The next time the feature is checked against the same user, the value will be retrieved from storage and the closure will not be invoked."
msgstr ""

#: docs/10.x/pennant.md:block 26 (paragraph)
msgid "For convenience, if a feature definition only returns a lottery, you may omit the closure completely:"
msgstr ""

#: docs/10.x/pennant.md:block 27 (code)
msgid "Feature::define('site-redesign', Lottery::odds(1, 1000));\n"
msgstr ""

#: docs/10.x/pennant.md:block 29 (header)
msgid "Class Based Features"
msgstr ""

#: docs/10.x/pennant.md:block 30 (paragraph)
msgid "Pennant also allows you to define class based features. Unlike closure based feature definitions, there is no need to register a class based feature in a service provider. To create a class based feature, you may invoke the `pennant:feature` Artisan command. By default the feature class will be placed in your application's `app/Features` directory:"
msgstr ""

#: docs/10.x/pennant.md:block 31 (code)
msgid "php artisan pennant:feature NewApi\n"
msgstr ""

#: docs/10.x/pennant.md:block 32 (paragraph)
msgid "When writing a feature class, you only need to define a `resolve` method, which will be invoked to resolve the feature's initial value for a given scope. Again, the scope will typically be the currently authenticated user:"
msgstr ""

#: docs/10.x/pennant.md:block 33 (code)
msgid "<?php\n\n"
"namespace App\\Features;\n\n"
"use Illuminate\\Support\\Lottery;\n\n"
"class NewApi\n"
"{\n"
"    /**\n"
"     * Resolve the feature's initial value.\n"
"     */\n"
"    public function resolve(User $user): mixed\n"
"    {\n"
"        return match (true) {\n"
"            $user->isInternalTeamMember() => true,\n"
"            $user->isHighTrafficCustomer() => false,\n"
"            default => Lottery::odds(1 / 100),\n"
"        };\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 34 (quote)
msgid "**Note** Feature classes are resolved via the [container](/docs/{{version}}/container), so you may inject dependencies into the feature class's constructor when needed."
msgstr ""

#: docs/10.x/pennant.md:block 36 (header)
msgid "Checking Features"
msgstr ""

#: docs/10.x/pennant.md:block 37 (paragraph)
msgid "To determine if a feature is active, you may use the `active` method on the `Feature` facade. By default, features are checked against the currently authenticated user:"
msgstr ""

#: docs/10.x/pennant.md:block 38 (code)
msgid "<?php\n\n"
"namespace App\\Http\\Controllers;\n\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Response;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"class PodcastController\n"
"{\n"
"    /**\n"
"     * Display a listing of the resource.\n"
"     */\n"
"    public function index(Request $request): Response\n"
"    {\n"
"        return Feature::active('new-api')\n"
"                ? $this->resolveNewApiResponse($request)\n"
"                : $this->resolveLegacyApiResponse($request);\n"
"    }\n\n"
"    // ...\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 39 (paragraph)
msgid "Although features are checked against the currently authenticated user by default, you may easily check the feature against another user or [scope](#scope). To accomplish this, use the `for` method offered by the `Feature` facade:"
msgstr ""

#: docs/10.x/pennant.md:block 40 (code)
msgid "return Feature::for($user)->active('new-api')\n"
"        ? $this->resolveNewApiResponse($request)\n"
"        : $this->resolveLegacyApiResponse($request);\n"
msgstr ""

#: docs/10.x/pennant.md:block 41 (quote)
msgid "**Note** When using Pennant outside of an HTTP context, such as in an Artisan command or a queued job, you should typically [explicitly specify the feature's scope](#specifying-the-scope). Alternatively, you may define a [default scope](#default-scope) that accounts for both authenticated HTTP contexts and unauthenticated contexts."
msgstr ""

#: docs/10.x/pennant.md:block 43 (header)
msgid "Checking Class Based Features"
msgstr ""

#: docs/10.x/pennant.md:block 44 (paragraph)
msgid "For class based features, you should provide the class name when checking the feature:"
msgstr ""

#: docs/10.x/pennant.md:block 45 (code)
msgid "<?php\n\n"
"namespace App\\Http\\Controllers;\n\n"
"use App\\Features\\NewApi;\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Response;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"class PodcastController\n"
"{\n"
"    /**\n"
"     * Display a listing of the resource.\n"
"     */\n"
"    public function index(Request $request): Response\n"
"    {\n"
"        return Feature::active(NewApi::class)\n"
"                ? $this->resolveNewApiResponse($request)\n"
"                : $this->resolveLegacyApiResponse($request);\n"
"    }\n\n"
"    // ...\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 46 (paragraph)
msgid "Pennant also offers some additional convenience methods that may prove useful when determining if a feature is active or not:"
msgstr ""

#: docs/10.x/pennant.md:block 47 (code)
msgid "// Determine if all of the given features are active...\n"
"Feature::allAreActive(['new-api', 'site-redesign']);\n\n"
"// Determine if any of the given features are active...\n"
"Feature::someAreActive(['new-api', 'site-redesign']);\n\n"
"// Determine if a feature is inactive...\n"
"Feature::inactive('new-api');\n\n"
"// Determine if all of the given features are inactive...\n"
"Feature::allAreInactive(['new-api', 'site-redesign']);\n\n"
"// Determine if any of the given features are inactive...\n"
"Feature::someAreInactive(['new-api', 'site-redesign']);\n"
msgstr ""

#: docs/10.x/pennant.md:block 49 (header)
msgid "Conditional Execution"
msgstr ""

#: docs/10.x/pennant.md:block 50 (paragraph)
msgid "The `when` method may be used to fluently execute a given closure if a feature is active. Additionally, a second closure may be provided and will be executed if the feature is inactive:"
msgstr ""

#: docs/10.x/pennant.md:block 51 (code)
msgid "<?php\n\n"
"namespace App\\Http\\Controllers;\n\n"
"use App\\Features\\NewApi;\n"
"use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Response;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"class PodcastController\n"
"{\n"
"    /**\n"
"     * Display a listing of the resource.\n"
"     */\n"
"    public function index(Request $request): Response\n"
"    {\n"
"        return Feature::when(NewApi::class,\n"
"            fn () => $this->resolveNewApiResponse($request),\n"
"            fn () => $this->resolveLegacyApiResponse($request),\n"
"        );\n"
"    }\n"
" \n"
"    // ...\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 52 (paragraph)
msgid "The `unless` method serves as the inverse of the `when` method, executing the first closure if the feature is inactive:"
msgstr ""

#: docs/10.x/pennant.md:block 53 (code)
msgid "return Feature::unless(NewApi::class,\n"
"    fn () => $this->resolveLegacyApiResponse($request),\n"
"    fn () => $this->resolveNewApiResponse($request),\n"
");\n"
msgstr ""

#: docs/10.x/pennant.md:block 55 (header)
msgid "Blade Directive"
msgstr ""

#: docs/10.x/pennant.md:block 56 (paragraph)
msgid "To make checking features in Blade a seamless experience, Pennant offers a `@feature` directive:"
msgstr ""

#: docs/10.x/pennant.md:block 57 (code)
msgid "@feature('site-redesign')\n"
"    <!-- 'site-redesign' is active -->\n"
"@else\n"
"    <!-- 'site-redesign' is inactive -->\n"
"@endfeature\n"
msgstr ""

#: docs/10.x/pennant.md:block 59 (header)
msgid "Middleware"
msgstr ""

#: docs/10.x/pennant.md:block 60 (paragraph)
msgid "Pennant also includes a [middleware](/docs/{{version}}/middleware) that may be used to verify the currently authenticated user has access to a feature before a route is even invoked. To get started, you should add a middleware alias for the `EnsureFeaturesAreActive` middleware to your application's `app/Http/Kernel.php` file:"
msgstr ""

#: docs/10.x/pennant.md:block 61 (code)
msgid "use Laravel\\Pennant\\Middleware\\EnsureFeaturesAreActive;\n\n"
"protected $middlewareAliases = [\n"
"    // ...\n"
"    'features' => EnsureFeaturesAreActive::class,\n"
"];\n"
msgstr ""

#: docs/10.x/pennant.md:block 62 (paragraph)
msgid "Next, you may assign the middleware to a route and specify the features that are required to access the route. If any of the specified features are inactive for the currently authenticated user, a `400 Bad Request` HTTP response will be returned by the route. Multiple features may be specified using a comma-delimited list:"
msgstr ""

#: docs/10.x/pennant.md:block 63 (code)
msgid "Route::get('/api/servers', function () {\n"
"    // ...\n"
"})->middleware(['features:new-api,servers-api']);\n"
msgstr ""

#: docs/10.x/pennant.md:block 65 (header)
msgid "Customizing The Response"
msgstr ""

#: docs/10.x/pennant.md:block 66 (paragraph)
msgid "If you would like to customize the response that is returned by the middleware when one of the listed features is inactive, you may use the `whenInvalid` method provided by the `EnsureFeaturesAreActive` middleware. Typically, this method should be invoked within the `boot` method of one of your application's service providers:"
msgstr ""

#: docs/10.x/pennant.md:block 67 (code)
msgid "use Illuminate\\Http\\Request;\n"
"use Illuminate\\Http\\Response;\n"
"use Laravel\\Pennant\\Middleware\\EnsureFeaturesAreActive;\n\n"
"/**\n"
" * Bootstrap any application services.\n"
" */\n"
"public function boot(): void\n"
"{\n"
"    EnsureFeaturesAreActive::whenInactive(\n"
"        function (Request $request, array $features) {\n"
"            return new Response(status: 403);\n"
"        }\n"
"    );\n\n"
"    // ...\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 69 (header)
msgid "In-Memory Cache"
msgstr ""

#: docs/10.x/pennant.md:block 70 (paragraph)
msgid "When checking a feature, Pennant will create an in-memory cache of the result. If you are using the `database` driver, this means that re-checking the same feature flag within a single request will not trigger additional database queries. This also ensures that the feature has a consistent result for the duration of the request."
msgstr ""

#: docs/10.x/pennant.md:block 71 (paragraph)
msgid "If you need to manually flush the in-memory cache, you may use the `flushCache` method offered by the `Feature` facade:"
msgstr ""

#: docs/10.x/pennant.md:block 72 (code)
msgid "Feature::flushCache();\n"
msgstr ""

#: docs/10.x/pennant.md:block 74 (header)
msgid "Scope"
msgstr ""

#: docs/10.x/pennant.md:block 76 (header)
msgid "Specifying The Scope"
msgstr ""

#: docs/10.x/pennant.md:block 77 (paragraph)
msgid "As discussed, features are typically checked against the currently authenticated user. However, this may not always suit your needs. Therefore, it is possible to specify the scope you would like to check a given feature against via the `Feature` facade's `for` method:"
msgstr ""

#: docs/10.x/pennant.md:block 79 (paragraph)
msgid "Of course, feature scopes are not limited to \"users\". Imagine you have built a new billing experience that you are rolling out to entire teams rather than individual users. Perhaps you would like the oldest teams to have a slower rollout than the newer teams. Your feature resolution closure might look something like the following:"
msgstr ""

#: docs/10.x/pennant.md:block 80 (code)
msgid "use App\\Models\\Team;\n"
"use Carbon\\Carbon;\n"
"use Illuminate\\Support\\Lottery;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"Feature::define('billing-v2', function (Team $team) {\n"
"    if ($team->created_at->isAfter(new Carbon('1st Jan, 2023'))) {\n"
"        return true;\n"
"    }\n\n"
"    if ($team->created_at->isAfter(new Carbon('1st Jan, 2019'))) {\n"
"        return Lottery::odds(1 / 100);\n"
"    }\n\n"
"    return Lottery::odds(1 / 1000);\n"
"});\n"
msgstr ""

#: docs/10.x/pennant.md:block 81 (paragraph)
msgid "You will notice that the closure we have defined is not expecting a `User`, but is instead expecting a `Team` model. To determine if this feature is active for a user's team, you should pass the team to the `for` method offered by the `Feature` facade:"
msgstr ""

#: docs/10.x/pennant.md:block 82 (code)
msgid "if (Feature::for($user->team)->active('billing-v2')) {\n"
"    return redirect()->to('/billing/v2');\n"
"}\n\n"
"// ...\n"
msgstr ""

#: docs/10.x/pennant.md:block 84 (header)
msgid "Default Scope"
msgstr ""

#: docs/10.x/pennant.md:block 85 (paragraph)
msgid "It is also possible to customize the default scope Pennant uses to check features. For example, maybe all of your features are checked against the currently authenticated user's team instead of the user. Instead of having to call `Feature::for($user->team)` every time you check a feature, you may instead specify the team as the default scope. Typically, this should be done in one of your application's service providers:"
msgstr ""

#: docs/10.x/pennant.md:block 86 (code)
msgid "<?php\n\n"
"namespace App\\Providers;\n\n"
"use Illuminate\\Support\\Facades\\Auth;\n"
"use Illuminate\\Support\\ServiceProvider;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"class AppServiceProvider extends ServiceProvider\n"
"{\n"
"    /**\n"
"     * Bootstrap any application services.\n"
"     */\n"
"    public function boot(): void\n"
"    {\n"
"        Feature::resolveScopeUsing(fn ($driver) => Auth::user()?->team);\n\n"
"        // ...\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 87 (paragraph)
msgid "If no scope is explicitly provided via the `for` method, the feature check will now use the currently authenticated user's team as the default scope:"
msgstr ""

#: docs/10.x/pennant.md:block 88 (code)
msgid "Feature::active('billing-v2');\n\n"
"// Is now equivalent to...\n\n"
"Feature::for($user->team)->active('billing-v2');\n"
msgstr ""

#: docs/10.x/pennant.md:block 90 (header)
msgid "Nullable Scope"
msgstr ""

#: docs/10.x/pennant.md:block 91 (paragraph)
msgid "If the scope you are passing to a feature is potentially `null`, you should account for that in your feature's definition. A `null` scope may occur if you check a feature within an Artisan command, queued job, or unauthenticated route. Since there is usually not an authenticated user in these contexts, the default scope will be `null`."
msgstr ""

#: docs/10.x/pennant.md:block 92 (paragraph)
msgid "If you do not always [explictly specify your feature scope](#specifying-the-scope) then you should ensure the scope's type is \"nullable\" and handle the `null` scope value within your feature definition logic:"
msgstr ""

#: docs/10.x/pennant.md:block 93 (code)
msgid "use App\\Models\\User;\n"
"use Illuminate\\Support\\Lottery;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"Feature::define('new-api', fn (User $user) => match (true) {// [tl! remove]\n"
"Feature::define('new-api', fn (User|null $user) => match (true) {// [tl! add]\n"
"    $user === null => true,// [tl! add]\n"
"    $user->isInternalTeamMember() => true,\n"
"    $user->isHighTrafficCustomer() => false,\n"
"    default => Lottery::odds(1 / 100),\n"
"});\n"
msgstr ""

#: docs/10.x/pennant.md:block 95 (header)
msgid "Identifying Scope"
msgstr ""

#: docs/10.x/pennant.md:block 96 (paragraph)
msgid "Pennant's built-in `array` and `database` storage drivers know how to properly store scope identifiers for all PHP data types as well as Eloquent models. However, if your application utilizes a third-party Pennant driver, that driver may not know how to properly store an identifier for an Eloquent model or other custom types in your application."
msgstr ""

#: docs/10.x/pennant.md:block 97 (paragraph)
msgid "In light of this, Pennant allows you to format scope values for storage by implementing the `FeatureScopeable` contract on the objects in your application that are used as Pennant scopes."
msgstr ""

#: docs/10.x/pennant.md:block 98 (paragraph)
msgid "For example, imagine you are using two different feature drivers in a single application: the built-in `database` driver and a third-party \"Flag Rocket\" driver. The \"Flag Rocket\" driver does not know how to properly store an Eloquent model. Instead, it requires a `FlagRocketUser` instance. By implementing the `toFeatureIdentifier` defined by the `FeatureScopeable` contract, we can customize the storable scope value provided to each driver used by our application:"
msgstr ""

#: docs/10.x/pennant.md:block 99 (code)
msgid "<?php\n\n"
"namespace App\\Models;\n\n"
"use FlagRocket\\FlagRocketUser;\n"
"use Illuminate\\Database\\Eloquent\\Model;\n"
"use Laravel\\Pennant\\Contracts\\FeatureScopeable;\n\n"
"class User extends Model implements FeatureScopeable\n"
"{\n"
"    /**\n"
"     * Cast the object to a feature scope identifier for the given driver.\n"
"     */\n"
"    public function toFeatureIdentifier(string $driver): mixed\n"
"    {\n"
"        return match($driver) {\n"
"            'database' => $this,\n"
"            'flag-rocket' => FlagRocketUser::fromId($this->flag_rocket_id),\n"
"        };\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 101 (header)
msgid "Rich Feature Values"
msgstr ""

#: docs/10.x/pennant.md:block 102 (paragraph)
msgid "Until now, we have primarily shown features as being in a binary state, meaning they are either \"active\" or \"inactive\", but Pennant also allows you to store rich values as well."
msgstr ""

#: docs/10.x/pennant.md:block 103 (paragraph)
msgid "For example, imagine you are testing three new colors for the \"Buy now\" button of your application. Instead of returning `true` or `false` from the feature definition, you may instead return a string:"
msgstr ""

#: docs/10.x/pennant.md:block 104 (code)
msgid "use Illuminate\\Support\\Arr;\n"
"use Laravel\\Pennant\\Feature;\n\n"
"Feature::define('purchase-button', fn (User $user) => Arr::random([\n"
"    'blue-sapphire',\n"
"    'seafoam-green',\n"
"    'tart-orange',\n"
"]));\n"
msgstr ""

#: docs/10.x/pennant.md:block 105 (paragraph)
msgid "You may retrieve the value of the `purchase-button` feature using the `value` method:"
msgstr ""

#: docs/10.x/pennant.md:block 106 (code)
msgid "$color = Feature::value('purchase-button');\n"
msgstr ""

#: docs/10.x/pennant.md:block 107 (paragraph)
msgid "Pennant's included Blade directive also makes it easy to conditionally render content based on the current value of the feature:"
msgstr ""

#: docs/10.x/pennant.md:block 108 (code)
msgid "@feature('purchase-button', 'blue-sapphire')\n"
"    <!-- 'blue-sapphire' is active -->\n"
"@elsefeature('purchase-button', 'seafoam-green')\n"
"    <!-- 'seafoam-green' is active -->\n"
"@elsefeature('purchase-button', 'tart-orange')\n"
"    <!-- 'tart-orange' is active -->\n"
"@endfeature\n"
msgstr ""

#: docs/10.x/pennant.md:block 109 (quote)
msgid "**Note** When using rich values, it is important to know that a feature is considered \"active\" when it has any value other than `false`."
msgstr ""

#: docs/10.x/pennant.md:block 111 (header)
msgid "Eager Loading"
msgstr ""

#: docs/10.x/pennant.md:block 112 (paragraph)
msgid "Although Pennant keeps an in-memory cache of all resolved features for a single request, it is still possible to encounter performance issues. To alleviate this, Pennant offers the ability to eager load feature values."
msgstr ""

#: docs/10.x/pennant.md:block 113 (paragraph)
msgid "To illustrate this, imagine that we are checking if a feature is active within a loop:"
msgstr ""

#: docs/10.x/pennant.md:block 114 (code)
msgid "use Laravel\\Pennant\\Feature;\n\n"
"foreach ($users as $user) {\n"
"    if (Feature::for($user)->active('notifications-beta')) {\n"
"        $user->notify(new RegistrationSuccess);\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 115 (paragraph)
msgid "Assuming we are using the database driver, this code will execute a database query for every user in the loop - executing potentially hundreds of queries. However, using Pennant's `load` method, we can remove this potential performance bottleneck by eager loading the feature values for a collection of users or scopes:"
msgstr ""

#: docs/10.x/pennant.md:block 116 (code)
msgid "Feature::for($users)->load(['notifications-beta']);\n\n"
"foreach ($users as $user) {\n"
"    if (Feature::for($user)->active('notifications-beta')) {\n"
"        $user->notify(new RegistrationSuccess);\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 117 (paragraph)
msgid "To load feature values only when they have not already been loaded, you may use the `loadMissing` method:"
msgstr ""

#: docs/10.x/pennant.md:block 118 (code)
msgid "Feature::for($users)->loadMissing([\n"
"    'new-api',\n"
"    'purchase-button',\n"
"    'notifications-beta',\n"
"]);\n"
msgstr ""

#: docs/10.x/pennant.md:block 120 (header)
msgid "Updating Values"
msgstr ""

#: docs/10.x/pennant.md:block 121 (paragraph)
msgid "When a feature's value is resolved for the first time, the underlying driver will store the result in storage. This is often necessary to ensure a consistent experience for your users across requests. However, at times, you may want to manually update the feature's stored value."
msgstr ""

#: docs/10.x/pennant.md:block 122 (paragraph)
msgid "To accomplish this, you may use the `activate` and `deactivate` methods to toggle a feature \"on\" or \"off\":"
msgstr ""

#: docs/10.x/pennant.md:block 123 (code)
msgid "use Laravel\\Pennant\\Feature;\n\n"
"// Activate the feature for the default scope...\n"
"Feature::activate('new-api');\n\n"
"// Deactivate the feature for the given scope...\n"
"Feature::for($user->team)->deactivate('billing-v2');\n"
msgstr ""

#: docs/10.x/pennant.md:block 124 (paragraph)
msgid "It is also possible to manually set a rich value for a feature by providing a second argument to the `activate` method:"
msgstr ""

#: docs/10.x/pennant.md:block 125 (code)
msgid "Feature::activate('purchase-button', 'seafoam-green');\n"
msgstr ""

#: docs/10.x/pennant.md:block 126 (paragraph)
msgid "To instruct Pennant to forget the stored value for a feature, you may use the `forget` method. When the feature is checked again, Pennant will resolve the feature's value from its feature definition:"
msgstr ""

#: docs/10.x/pennant.md:block 127 (code)
msgid "Feature::forget('purchase-button');\n"
msgstr ""

#: docs/10.x/pennant.md:block 129 (header)
msgid "Bulk Updates"
msgstr ""

#: docs/10.x/pennant.md:block 130 (paragraph)
msgid "To update stored feature values in bulk, you may use the `activateForEveryone` and `deactivateForEveryone` methods."
msgstr ""

#: docs/10.x/pennant.md:block 131 (paragraph)
msgid "For example, imagine you are now confident in the `new-api` feature's stability and have landed on the best `'purchase-button'` color for your checkout flow - you can update the stored value for all users accordingly:"
msgstr ""

#: docs/10.x/pennant.md:block 132 (code)
msgid "use Laravel\\Pennant\\Feature;\n\n"
"Feature::activateForEveryone('new-api');\n\n"
"Feature::activateForEveryone('purchase-button', 'seafoam-green');\n"
msgstr ""

#: docs/10.x/pennant.md:block 133 (paragraph)
msgid "Alternatively, you may deactivate the feature for all users:"
msgstr ""

#: docs/10.x/pennant.md:block 134 (code)
msgid "Feature::deactivateForEveryone('new-api');\n"
msgstr ""

#: docs/10.x/pennant.md:block 135 (quote)
msgid "**Note** This will only update the resolved feature values that have been stored by Pennant's storage driver. You will also need to update the feature definition in your application."
msgstr ""

#: docs/10.x/pennant.md:block 137 (header)
msgid "Purging Features"
msgstr ""

#: docs/10.x/pennant.md:block 138 (paragraph)
msgid "Sometimes, it can be useful to purge an entire feature from storage. This is typically necessary if you have removed the feature from your application or you have made adjustments to the feature's definition that you would like to rollout to all users."
msgstr ""

#: docs/10.x/pennant.md:block 139 (paragraph)
msgid "You may remove all stored values for a feature using the `purge` method:"
msgstr ""

#: docs/10.x/pennant.md:block 140 (code)
msgid "// Purging a single feature...\n"
"Feature::purge('new-api');\n\n"
"// Purging multiple features...\n"
"Feature::purge(['new-api', 'purchase-button']);\n"
msgstr ""

#: docs/10.x/pennant.md:block 141 (paragraph)
msgid "If you would like to purge *all* features from storage, you may invoke the `purge` method without any arguments:"
msgstr ""

#: docs/10.x/pennant.md:block 142 (code)
msgid "Feature::purge();\n"
msgstr ""

#: docs/10.x/pennant.md:block 143 (paragraph)
msgid "As it can be useful to purge features as part of your application's deployment pipeline, Pennant includes a `pennant:purge` Artisan command:"
msgstr ""

#: docs/10.x/pennant.md:block 144 (code)
msgid "php artisan pennant:purge new-api\n\n"
"php artisan pennant:purge new-api purchase-button\n"
msgstr ""

#: docs/10.x/pennant.md:block 146 (header)
msgid "Events"
msgstr ""

#: docs/10.x/pennant.md:block 147 (paragraph)
msgid "Pennant dispatches a variety of events that can be useful when tracking feature flags throughout your application."
msgstr ""

#: docs/10.x/pennant.md:block 148 (header)
msgid "`Laravel\\Pennant\\Events\\RetrievingKnownFeature`"
msgstr ""

#: docs/10.x/pennant.md:block 149 (paragraph)
msgid "This event is dispatched the first time a known feature is retrieved during a request for a specific scope. This event can be useful to create and track metrics against the feature flags that are being used throughout your application."
msgstr ""

#: docs/10.x/pennant.md:block 150 (header)
msgid "`Laravel\\Pennant\\Events\\RetrievingUnknownFeature`"
msgstr ""

#: docs/10.x/pennant.md:block 151 (paragraph)
msgid "This event is dispatched the first time an unknown feature is retrieved during a request for a specific scope. This event can be useful if you have intended to remove a feature flag, but may have accidentally left some stray references to it throughout your application."
msgstr ""

#: docs/10.x/pennant.md:block 152 (paragraph)
msgid "For example, you may find it useful to listen for this event and `report` or throw an exception when it occurs:"
msgstr ""

#: docs/10.x/pennant.md:block 153 (code)
msgid "<?php\n\n"
"namespace App\\Providers;\n\n"
"use Illuminate\\Foundation\\Support\\Providers\\EventServiceProvider as ServiceProvider;\n"
"use Illuminate\\Support\\Facades\\Event;\n"
"use Laravel\\Pennant\\Events\\RetrievingUnknownFeature;\n\n"
"class EventServiceProvider extends ServiceProvider\n"
"{\n"
"    /**\n"
"     * Register any other events for your application.\n"
"     */\n"
"    public function boot(): void\n"
"    {\n"
"        Event::listen(function (RetrievingUnknownFeature $event) {\n"
"            report(\"Resolving unknown feature [{$event->feature}].\");\n"
"        });\n"
"    }\n"
"}\n"
msgstr ""

#: docs/10.x/pennant.md:block 154 (header)
msgid "`Laravel\\Pennant\\Events\\DynamicallyDefiningFeature`"
msgstr ""

#: docs/10.x/pennant.md:block 155 (paragraph)
msgid "This event is dispatched when a class based feature is being dynamically checked for the first time during a request."
msgstr ""

